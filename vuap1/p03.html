<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>ВУАП-1 — Пункт 3</title>

  <style>
    :root{
      --bg1:#0b1d2b;
      --bg2:#0a2a3f;
      --card:rgba(255,255,255,.08);
      --stroke:rgba(255,255,255,.16);
      --text:#e9f2ff;
      --muted:#b7c7dd;
      --btn:rgba(255,255,255,.08);
      --btn2:rgba(255,255,255,.12);
      --ok:rgba(110,255,180,.15);
      --bad:rgba(255,120,120,.15);
      --okStroke:rgba(110,255,180,.35);
      --badStroke:rgba(255,120,120,.35);
      --shadow:0 10px 40px rgba(0,0,0,.35);
      --radius:22px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(900px 500px at 15% 10%, rgba(255,255,255,.12), transparent 60%),
        radial-gradient(800px 500px at 85% 20%, rgba(255,255,255,.10), transparent 60%),
        linear-gradient(180deg,var(--bg1),var(--bg2));
      min-height:100vh;
    }

    .wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 24px 16px 40px;
    }

    .top{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:16px;
      margin-bottom: 14px;
    }

    .brand{
      background:var(--card);
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      padding:16px 18px;
      box-shadow: var(--shadow);
      width: 100%;
    }
    .brand h1{
      margin:0;
      font-size: 20px;
      letter-spacing:.2px;
    }
    .brand p{
      margin:6px 0 0 0;
      color:var(--muted);
      font-size:14px;
    }

    h2.page{
      font-size: clamp(28px, 5vw, 52px);
      margin: 16px 0 14px;
      line-height: 1.05;
      letter-spacing: .2px;
    }

    .nav{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin: 10px 0 18px;
    }
    .btn{
      appearance:none;
      border:1px solid var(--stroke);
      background: var(--btn);
      color:var(--text);
      border-radius: 18px;
      padding: 10px 14px;
      cursor:pointer;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:8px;
      transition:.15s ease;
    }
    .btn:hover{ background: var(--btn2); }
    .btn.ghost{ background: transparent; }

    .card{
      background: var(--card);
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      padding: 18px;
      box-shadow: var(--shadow);
      margin: 14px 0;
    }

    .card h2{
      margin:0 0 10px 0;
      font-size: 24px;
    }

    .card h3{
      margin: 14px 0 8px;
      font-size: 18px;
      color: var(--text);
    }

    .muted{ color: var(--muted); }
    .small{ font-size: 13px; }
    ul{ margin: 8px 0 0 20px; }
    li{ margin: 6px 0; }

    .grid2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 8px;
    }
    @media (max-width:720px){
      .grid2{ grid-template-columns: 1fr; }
    }

    .field{
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .lbl{
      color: var(--muted);
      font-size: 13px;
    }
    select, input{
      width:100%;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid var(--stroke);
      background: rgba(0,0,0,.12);
      color: var(--text);
      outline: none;
    }

    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 10px;
    }

    .status{
      margin-top: 12px;
      padding: 12px 12px;
      border-radius: 16px;
      border: 1px solid var(--stroke);
      background: rgba(0,0,0,.10);
      display:flex;
      gap:10px;
      align-items:flex-start;
    }
    .status .tag{
      font-weight: 700;
      letter-spacing:.2px;
      white-space:nowrap;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.06);
    }
    .status.ok{
      background: var(--ok);
      border-color: var(--okStroke);
    }
    .status.ok .tag{
      border-color: var(--okStroke);
    }
    .status.bad{
      background: var(--bad);
      border-color: var(--badStroke);
    }
    .status.bad .tag{
      border-color: var(--badStroke);
    }
  </style>
</head>

<body>
  <div class="wrap">
    <h2 class="page">Пункт 3. Проверка крутизны датчика угла</h2>

    <div class="top">
      <div class="brand">
        <h1>ВУАП-1</h1>
        <p>Инженерная инструкция · Пошаговый контроль допусков</p>
      </div>
    </div>

    <div class="nav">
      <a class="btn ghost" href="../index.html">← На главную</a>
      <a class="btn ghost" href="./index.html">← Меню ВУАП-1</a>
    </div>

    <!-- Условия проведения проверки -->
    <section class="card" id="conditions">
      <h2>Условия проведения проверки</h2>
      <p class="muted">
        Проверка выполняется с <b>выключенной</b> наземной гидроустановкой.
      </p>
    </section>

    <!-- Технология пункта 3 -->
    <section class="card" id="tech">
      <h2>3. Проверка крутизны датчика угла</h2>

      <h3>а) Канал направления</h3>
      <ul class="muted">
        <li>Нажать кнопку-табло «ВКЛ» на пульте управления канала направления.</li>
        <li>Поворотом шкалы ручки центровки установить стрелку индикатора нулевого в среднее положение.</li>
        <li>Заметить положение шкалы ручки центровки.</li>
        <li>
          Не отпуская кнопку-табло «ВКЛ», поворотом шкалы ручки центровки по часовой стрелке
          (против часовой стрелки) установить стрелку индикатора нулевого в положение, совмещённое
          с промежуточными отметками, заметив угол поворота шкалы ручки центровки
          (деление соответствует 1°).
        </li>
      </ul>

      <h3>б) Каналы крена и тангажа</h3>
      <p class="muted">
        Проделать аналогичную проверку, устанавливая стрелку индикатора нулевого
        в совмещённое с промежуточной отметкой положение поворотом шкалы ручки центровки
        соответствующего канала.
      </p>

      <div class="card" style="margin-top:14px;">
        <h3 style="margin-top:0;">Технические требования (ТТ)</h3>
        <p class="muted" style="margin:0;">
          Для каналов направления, крена и тангажа угол поворота шкалы ручки центровки должен быть
          <b>10° ± 3°</b> (1 оборот).
        </p>
      </div>

      <div class="card" style="margin-top:14px;">
        <h3 style="margin-top:0;">Работы, выполняемые при отклонениях от ТТ</h3>
        <p class="muted" style="margin:0 0 10px 0;">
          Не отпуская кнопку-табло «ВКЛ», повернуть шкалу ручки центровки по часовой стрелке
          на 10° (1 оборот) от замеченного положения и поворотом подстроечного резистора «КР»
          на пульте управления соответствующего канала установить стрелку индикатора нулевого:
        </p>
        <ul class="muted" style="margin-top:0;">
          <li>
            в совмещённое с <b>правой</b> промежуточной отметкой положение
            (для канала тангажа — <b>нижней</b> промежуточной отметкой);
          </li>
          <li>
            в совмещённое с <b>левой</b> промежуточной отметкой положение
            (для канала тангажа — <b>верхней</b> промежуточной отметкой).
          </li>
        </ul>
        <p class="muted" style="margin:10px 0 0 0;">
          Не отпуская кнопку-табло «ВКЛ», вернуть шкалу ручки центровки в исходное положение,
          соответствующее среднему положению стрелки индикатора нулевого.
        </p>
      </div>
    </section>

    <!-- Фиксация результата -->
    <section class="card" id="fix">
      <h2>Фиксация результата (в программу)</h2>

      <div class="grid2">
        <label class="field">
          <span class="lbl">Канал</span>
          <select id="fixChannel">
            <option value="" selected disabled>— выбрать —</option>
            <option value="yaw">Направления</option>
            <option value="roll">Крен</option>
            <option value="pitch">Тангаж</option>
          </select>
        </label>

        <label class="field">
          <span class="lbl">Угол поворота шкалы, °</span>
          <input id="fixAngle" type="number" inputmode="decimal" step="0.1" placeholder="Напр. 10">
        </label>
      </div>

      <div class="row">
        <button class="btn" id="btnCheckFix" type="button">Проверить ТТ</button>
        <button class="btn ghost" id="btnResetFix" type="button">Сброс</button>
      </div>

      <div class="status" id="fixStatus">
        <span class="tag">ОЖИДАЕТ</span>
        <span class="msg">Выбери канал и введи измеренный угол.</span>
      </div>

      <div class="small muted" style="margin-top:10px;">
        ТТ: 10° ± 3°.
      </div>
    </section>
  </div>

  <script>
    // ТТ: 10° ± 3°
    const TT = { target: 10, tol: 3 };

    const elCh = document.getElementById('fixChannel');
    const elAngle = document.getElementById('fixAngle');
    const elStatus = document.getElementById('fixStatus');

    function channelName(v){
      if (v === 'yaw') return 'Направления';
      if (v === 'roll') return 'Крен';
      if (v === 'pitch') return 'Тангаж';
      return '';
    }

    function setStatus(state, text) {
      const tag = elStatus.querySelector('.tag');
      const msg = elStatus.querySelector('.msg');

      tag.textContent = state;
      msg.textContent = text;

      elStatus.classList.remove('ok','bad');
      if (state === 'СООТВЕТСТВУЕТ') elStatus.classList.add('ok');
      if (state === 'НЕ СООТВЕТСТВУЕТ') elStatus.classList.add('bad');
    }

    document.getElementById('btnCheckFix').addEventListener('click', () => {
      const ch = elCh.value;
      const a = Number(elAngle.value);

      if (!ch) { setStatus('ОЖИДАЕТ', 'Выбери канал.'); return; }
      if (!Number.isFinite(a)) { setStatus('ОЖИДАЕТ', 'Введи угол (число).'); return; }

      const low = TT.target - TT.tol;
      const high = TT.target + TT.tol;
      const pass = (a >= low && a <= high);

      if (pass) {
        setStatus('СООТВЕТСТВУЕТ', `${channelName(ch)}: ${a}° входит в допуск ${low}…${high}°.`);
      } else {
        setStatus('НЕ СООТВЕТСТВУЕТ', `${channelName(ch)}: ${a}° НЕ входит в допуск ${low}…${high}°.`);
      }
    });

    document.getElementById('btnResetFix').addEventListener('click', () => {
      elCh.selectedIndex = 0;
      elAngle.value = '';
      setStatus('ОЖИДАЕТ', 'Выбери канал и введи измеренный угол.');
    });

    // старт
    setStatus('ОЖИДАЕТ', 'Выбери канал и введи измеренный угол.');
  </script>
</body>
</html>
