<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ВУАП-1 — Пункт 3</title>
  <style>
    :root{
      --bg1:#0b1a2a;
      --bg2:#153a5a;
      --card:rgba(255,255,255,.08);
      --stroke:rgba(255,255,255,.18);
      --text:#e9f2ff;
      --muted:#b7c7dd;
      --ok:#28d17c;
      --bad:#ff6b6b;
      --warn:#ffcc66;
      --btn:rgba(255,255,255,.09);
      --btn2:rgba(255,255,255,.13);
      --shadow:0 10px 30px rgba(0,0,0,.25);
      --radius:22px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      background:
        radial-gradient(900px 500px at 15% 10%, rgba(255,255,255,.12), transparent 60%),
        radial-gradient(800px 500px at 85% 20%, rgba(255,255,255,.10), transparent 60%),
        linear-gradient(180deg,var(--bg1),var(--bg2));
      min-height:100vh;
    }

    .wrap{
      max-width:1100px;
      margin:0 auto;
      padding:28px 16px 56px;
    }

    h1{
      margin:10px 0 18px;
      font-size:42px;
      line-height:1.1;
      letter-spacing:.2px;
    }
    @media (max-width:640px){
      h1{font-size:34px}
    }

    .topbar{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      margin-bottom:16px;
    }

    .brandCard{
      flex:1;
      padding:18px 18px;
      border-radius:var(--radius);
      background:var(--card);
      border:1px solid var(--stroke);
      box-shadow:var(--shadow);
    }
    .brandTitle{
      font-size:26px;
      font-weight:800;
      margin:0 0 6px;
    }
    .brandSub{
      margin:0;
      color:var(--muted);
      font-size:16px;
    }

    .badge{
      align-self:stretch;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:12px 14px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.06);
      color:var(--muted);
      font-weight:700;
      min-width:180px;
      text-align:center;
      box-shadow:var(--shadow);
      white-space:nowrap;
    }

    .nav{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      margin:14px 0 18px;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:12px 16px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background:var(--btn);
      color:var(--text);
      text-decoration:none;
      font-weight:700;
      transition:.15s ease;
    }
    .btn:hover{background:var(--btn2); transform:translateY(-1px)}
    .btn:active{transform:translateY(0)}
    .btn.secondary{color:var(--muted)}

    .card{
      border-radius:var(--radius);
      background:var(--card);
      border:1px solid var(--stroke);
      box-shadow:var(--shadow);
      padding:18px 18px;
      margin:14px 0;
    }

    .card h2{
      margin:0 0 10px;
      font-size:28px;
      letter-spacing:.2px;
    }
    .card h3{
      margin:16px 0 8px;
      font-size:22px;
    }
    .muted{color:var(--muted)}
    .p{
      margin:8px 0;
      color:var(--text);
      line-height:1.55;
      font-size:16px;
    }

    .note{
      border:1px dashed rgba(255,255,255,.22);
      background:rgba(0,0,0,.12);
      border-radius:18px;
      padding:12px 14px;
      margin:12px 0;
      color:var(--muted);
    }
    .note b{color:var(--text)}

    .tt{
      border-left:4px solid rgba(255,255,255,.25);
      padding:10px 12px;
      border-radius:14px;
      background:rgba(0,0,0,.10);
      margin:12px 0;
    }
    .tt .label{
      font-weight:900;
      margin-bottom:4px;
      letter-spacing:.2px;
    }

    ul{margin:8px 0 8px 22px}
    li{margin:6px 0; line-height:1.45}

    .grid2{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px;
    }
    @media (max-width:840px){
      .grid2{grid-template-columns:1fr}
    }

    .field{
      display:flex;
      gap:10px;
      align-items:center;
      background:rgba(255,255,255,.06);
      border:1px solid var(--stroke);
      border-radius:16px;
      padding:10px 12px;
    }
    .chip{
      padding:10px 12px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.06);
      color:var(--muted);
      font-weight:800;
      white-space:nowrap;
      min-width:160px;
      text-align:center;
    }
    input, select, textarea{
      width:100%;
      border:0;
      outline:none;
      background:transparent;
      color:var(--text);
      font-size:16px;
      padding:10px 6px;
    }
    textarea{min-height:46px; resize:vertical}

    .actions{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      margin-top:10px;
    }

    .btnAction{
      cursor:pointer;
      border:1px solid var(--stroke);
      border-radius:14px;
      padding:12px 14px;
      font-weight:900;
      background:rgba(255,255,255,.10);
      color:var(--text);
      transition:.15s ease;
      min-width:160px;
      text-align:center;
    }
    .btnAction:hover{background:rgba(255,255,255,.14); transform:translateY(-1px)}
    .btnAction:active{transform:translateY(0)}
    .btnAction.ghost{background:transparent; color:var(--muted)}

    .status{
      border-radius:16px;
      border:1px solid var(--stroke);
      padding:12px 14px;
      background:rgba(0,0,0,.10);
      margin-top:12px;
      color:var(--muted);
      font-weight:800;
    }
    .status .tag{
      display:inline-block;
      padding:4px 10px;
      border-radius:999px;
      font-weight:900;
      margin-right:10px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(255,255,255,.08);
      color:var(--muted);
    }
    .status.ok{border-color:rgba(40,209,124,.35)}
    .status.ok .tag{color:#0c2; border-color:rgba(40,209,124,.4); background:rgba(40,209,124,.12)}
    .status.bad{border-color:rgba(255,107,107,.35)}
    .status.bad .tag{color:var(--bad); border-color:rgba(255,107,107,.4); background:rgba(255,107,107,.12)}
    .status.warn{border-color:rgba(255,204,102,.35)}
    .status.warn .tag{color:var(--warn); border-color:rgba(255,204,102,.4); background:rgba(255,204,102,.12)}

    .small{font-size:13px; color:var(--muted)}
    .hr{
      height:1px;
      background:rgba(255,255,255,.16);
      margin:14px 0;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <h1>Пункт 3. Проверка крутизны датчика угла</h1>

    <div class="topbar">
      <div class="brandCard">
        <div class="brandTitle">ВУАП-1</div>
        <p class="brandSub">Инженерная инструкция · Пошаговый контроль допусков</p>
      </div>
      <div class="badge">Пункт 3 · (черновик)</div>
    </div>

    <div class="nav">
      <a class="btn secondary" href="../index.html">← На главную</a>
      <a class="btn secondary" href="index.html">← Меню ВУАП-1</a>
    </div>

    <div class="card">
      <h2>Условия проведения проверки</h2>
      <p class="p muted">Проверка выполняется <b>с включённой наземной гидроустановкой</b>.</p>
    </div>

    <div class="card">
      <h2>3. Проверка крутизны датчика угла</h2>

      <h3>а) Канал направления</h3>

      <p class="p">
        1) При нажатой кнопке-табло <b>«ВКЛ»</b> на пульте управления канала направления поворотом шкалы ручки центровки
        установить стрелку индикатора нулевого в <b>среднее положение</b>. <b>Заметьте положение шкалы</b> ручки центровки.
      </p>

      <p class="p">
        2) <b>Не отпуская</b> кнопку-табло <b>«ВКЛ»</b>, поворотом шкалы ручки центровки по часовой стрелке (против часовой стрелки)
        установить стрелку индикатора нулевого в <b>совмещённое с промежуточной отметкой</b> положение и <b>заметить угол поворота</b>
        шкалы ручки центровки (<b>деление соответствует 1°</b>).
      </p>

      <div class="note">
        <b>Примечание.</b> За совмещённое положение стрелки индикатора с отметкой считается такое положение, при котором
        <b>задняя кромка стрелки</b>, если смотреть по направлению отклонения, <b>совпадает с промежуточной отметкой</b>.
      </div>

      <p class="p">
        3) Нажать кнопку-табло <b>«ОТКЛ»</b> на пульте управления канала направления.
      </p>

      <div class="tt">
        <div class="label">Технические требования (ТТ)</div>
        <div class="p muted" style="margin:0">
          Для каналов направления (а также крена и тангажа) угол поворота шкалы ручки центровки должен быть <b>10 ± 3°</b>.
        </div>
      </div>

      <div class="tt">
        <div class="label">Работы, выполняемые при отклонениях от ТТ</div>
        <div class="p muted" style="margin:0">
          Не отпуская кнопку-табло <b>«ВКЛ»</b>, повернуть шкалу ручки центровки <b>по часовой стрелке на 10°</b> от замеченного положения
          (<b>1 оборот</b>) и поворотом подстроечного резистора <b>«КР»</b> на пульте управления соответствующего канала установить стрелку
          индикатора нулевого в положение, <b>совмещённое с правой промежуточной отметкой</b>.
          Не отпуская кнопку-табло <b>«ВКЛ»</b>, вернуть шкалу ручки центровки в исходное положение, соответствующее среднему положению
          стрелки индикатора нулевого.
        </div>
      </div>

      <div class="hr"></div>

      <h3>б) Каналы крена и тангажа</h3>

      <p class="p">
        Проделать <b>аналогичную</b> описанной для канала направления проверку. При этом установить стрелку индикатора нулевого в положение,
        совмещённое с промежуточной отметкой, <b>поворотом шкалы ручки центровки соответствующего канала</b>.
      </p>

      <div class="tt">
        <div class="label">Технические требования (ТТ)</div>
        <div class="p muted" style="margin:0">
          Угол поворота шкалы ручки центровки должен быть <b>10 ± 3°</b>.
        </div>
      </div>

      <div class="tt">
        <div class="label">Работы, выполняемые при отклонениях от ТТ</div>
        <div class="p muted" style="margin:0">
          Аналогично каналу направления, поворотом подстроечного резистора <b>«КР»</b> на пульте управления соответствующего канала установить
          стрелку индикатора нулевого:
          <ul>
            <li>в <b>совмещённое с правой</b> промежуточной отметкой положение (<b>для канала тангажа нижней</b>),</li>
            <li>в <b>совмещённое с левой</b> промежуточной отметкой положение (<b>для канала тангажа верхней</b>).</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="card">
      <h2>Фиксация результата (в программу)</h2>

      <div class="grid2">
        <div class="field">
          <div class="chip">Канал</div>
          <select id="channel">
            <option value="">— выбрать —</option>
            <option value="direction">Направления</option>
            <option value="roll">Крена</option>
            <option value="pitch">Тангажа</option>
          </select>
        </div>

        <div class="field">
          <div class="chip">ТТ</div>
          <select id="ttFact">
            <option value="">Стрелка/угол соответствует ТТ (10 ± 3°)?</option>
            <option value="yes">Да</option>
            <option value="no">Нет</option>
          </select>
        </div>
      </div>

      <div style="height:12px"></div>

      <div class="grid2">
        <div class="field">
          <div class="chip">Угол, °</div>
          <input id="angle" inputmode="decimal" placeholder="Введите фактический угол поворота шкалы (в градусах)" />
        </div>

        <div class="field">
          <div class="chip">КР</div>
          <select id="krDone">
            <option value="">Регулировка резистором «КР» выполнялась?</option>
            <option value="no">Нет</option>
            <option value="yes">Да</option>
          </select>
        </div>
      </div>

      <div style="height:12px"></div>

      <div class="field">
        <div class="chip">Примечание</div>
        <textarea id="comment" placeholder="Комментарий (если есть)"></textarea>
      </div>

      <div class="actions">
        <button class="btnAction" id="checkBtn" type="button">Проверить ТТ</button>
        <button class="btnAction ghost" id="resetBtn" type="button">Сброс</button>
      </div>

      <div id="status" class="status warn" style="display:block;">
        <span class="tag">ОЖИДАЕТ</span>
        Выбери канал, введи угол и нажми «Проверить ТТ».
      </div>

      <p class="small" style="margin:10px 0 0;">
        Контроль по программе: сравнение угла с допуском <b>10 ± 3°</b> (т.е. <b>7…13°</b>). Текст технологии выше — без изменений.
      </p>
    </div>
  </div>

  <script>
    (function(){
      const channel = document.getElementById('channel');
      const ttFact  = document.getElementById('ttFact');
      const angle   = document.getElementById('angle');
      const krDone  = document.getElementById('krDone');
      const comment = document.getElementById('comment');
      const status  = document.getElementById('status');

      const checkBtn = document.getElementById('checkBtn');
      const resetBtn = document.getElementById('resetBtn');

      function setStatus(type, tag, text){
        status.classList.remove('ok','bad','warn');
        status.classList.add(type);
        status.innerHTML = `<span class="tag">${tag}</span>${text}`;
      }

      function normalizeNumber(s){
        if (!s) return NaN;
        // допускаем запятую
        const t = String(s).trim().replace(',', '.');
        return Number(t);
      }

      checkBtn.addEventListener('click', function(){
        if (!channel.value){
          setStatus('warn','ОЖИДАЕТ','Выбери канал.');
          return;
        }

        const a = normalizeNumber(angle.value);
        if (!Number.isFinite(a)){
          setStatus('warn','ОЖИДАЕТ','Введи фактический угол (число в градусах).');
          return;
        }

        const low = 7, high = 13;

        const inRange = (a >= low && a <= high);

        // если пользователь руками выбрал "Да/Нет" в TT — сверим и покажем, где не совпало
        if (ttFact.value === 'yes' && !inRange){
          setStatus('bad','ОШИБКА','Ты выбрал «Да», но по числу угол НЕ в допуске (должно быть 7…13°).');
          return;
        }
        if (ttFact.value === 'no' && inRange){
          setStatus('bad','ОШИБКА','Ты выбрал «Нет», но по числу угол В допуске (7…13°).');
          return;
        }

        if (inRange){
          setStatus('ok','ОК',`Угол ${a}° — в допуске (7…13°).`);
        } else {
          setStatus('bad','НЕ НОРМА',`Угол ${a}° — вне допуска. Требуется действие по технологии (регулировка «КР»).`);
        }
      });

      resetBtn.addEventListener('click', function(){
        channel.value = '';
        ttFact.value = '';
        angle.value = '';
        krDone.value = '';
        comment.value = '';
        setStatus('warn','ОЖИДАЕТ','Выбери канал, введи угол и нажми «Проверить ТТ».');
      });
    })();
  </script>
</body>
</html>
