<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Пункт 9 — Проверка передаточного числа по угловой скорости (канал крена)</title>

  <style>
    :root{
      --bg1:#081a3a;
      --bg2:#071431;
      --card:#0f254f;
      --card2:#0c1f43;
      --text:#eaf0ff;
      --muted:#b9c6ea;
      --line:#2b3a62;
      --btn:#1a356d;
      --btn2:#163064;
      --danger:#ff5a6a;
      --ok:#34d399;
      --warn:#fbbf24;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
      color:var(--text);
      background: radial-gradient(1200px 600px at 50% 0%, var(--bg1), var(--bg2));
    }
    .topbar{
      height:44px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      color:var(--muted);
      font-size:12px;
      letter-spacing:.2px;
      opacity:.9;
      padding:0 10px;
    }
    .wrap{
      max-width:1100px;
      margin:0 auto;
      padding:12px 14px 40px;
    }

    /* Белый "лист" */
    .paper-wrap{
      display:flex;
      justify-content:center;
    }
    .paper-scroll{
      width:100%;
      overflow-x:auto;         /* ключ: на телефоне скролл, а не сжатие */
      padding-bottom:8px;
    }
    .paper{
      background:#fff;
      color:#000;
      border-radius:10px;
      box-shadow:0 10px 30px rgba(0,0,0,.35);
      border:1px solid rgba(0,0,0,.2);
      padding:18px 18px 14px;
      min-width:860px;         /* ключ: чтобы не ужималось в “кишку” */
      max-width:1060px;
      margin:0 auto;
    }
    .paper h2{
      font-size:18px;
      margin:0 0 6px 0;
      font-weight:700;
    }
    .paper .subtitle{
      font-size:12px;
      margin:0 0 10px 0;
      opacity:.85;
    }

    table.tech{
      width:100%;
      border-collapse:collapse;
      table-layout:fixed;
      font-size:12px;
      line-height:1.25;
    }
    table.tech th, table.tech td{
      border:1px solid #444;
      vertical-align:top;
      padding:8px 8px 10px;
      word-wrap:break-word;
    }
    table.tech th{
      font-weight:700;
      text-align:center;
    }
    .col-ops{width:56%}
    .col-tt{width:22%}
    .col-dev{width:22%}

    .figblock{
      margin-top:10px;
      border:1px solid #444;
      padding:8px;
    }
    .figcap{
      font-size:12px;
      font-weight:700;
      margin-bottom:6px;
    }
    .figimg{
      width:100%;
      height:auto;
      display:block;
      border:1px solid #bbb;
      background:#f4f4f4;
      max-height:520px;
      object-fit:contain;
    }

    /* Калькулятор */
    .calc{
      margin-top:14px;
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      border:1px solid rgba(255,255,255,.14);
      border-radius:14px;
      padding:14px;
      box-shadow:0 10px 24px rgba(0,0,0,.25);
    }
    .calc h3{
      margin:0 0 6px;
      font-size:14px;
      font-weight:800;
      color:var(--text);
    }
    .calc .formula{
      font-size:12px;
      color:var(--muted);
      margin:0 0 12px;
    }
    .grid{
      display:grid;
      grid-template-columns: 1.3fr 1fr 1fr;
      gap:10px;
    }
    .field label{
      display:block;
      font-size:12px;
      color:var(--muted);
      margin:0 0 4px;
    }
    select, input{
      width:100%;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.18);
      color:var(--text);
      padding:10px 10px;
      border-radius:10px;
      outline:none;
      font-size:14px;
    }
    input::placeholder{color:rgba(255,255,255,.35)}
    .actions{
      display:flex;
      gap:10px;
      margin-top:10px;
      flex-wrap:wrap;
    }
    button{
      border:1px solid rgba(255,255,255,.18);
      background: linear-gradient(180deg, var(--btn), var(--btn2));
      color:var(--text);
      padding:10px 12px;
      border-radius:10px;
      cursor:pointer;
      font-weight:700;
      font-size:13px;
    }
    button:active{transform:translateY(1px)}
    .out{
      margin-top:10px;
      padding:10px 12px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.20);
      font-size:13px;
      min-height:44px;
      white-space:pre-line;
    }
    .tag{
      display:inline-block;
      padding:2px 8px;
      border-radius:999px;
      font-size:12px;
      font-weight:800;
      margin-left:8px;
      vertical-align:middle;
    }
    .tag.ok{background:rgba(52,211,153,.18); color:var(--ok); border:1px solid rgba(52,211,153,.35)}
    .tag.bad{background:rgba(255,90,106,.18); color:var(--danger); border:1px solid rgba(255,90,106,.35)}
    .tag.warn{background:rgba(251,191,36,.18); color:var(--warn); border:1px solid rgba(251,191,36,.35)}

    @media (max-width:720px){
      .grid{grid-template-columns:1fr}
      .paper{min-width:860px} /* специально оставляем — будет скролл */
    }
  </style>
</head>

<body>
  <div class="topbar">
    Mi-Avionics-Tools / vuap1 / p09.html
    <span style="margin-left:auto;opacity:.8">Пункт 9 — только канал крена</span>
  </div>

  <div class="wrap">

    <!-- БЕЛЫЙ ЛИСТ -->
    <div class="paper-wrap">
      <div class="paper-scroll">
        <div class="paper">
          <h2>Содержание операций</h2>
          <p class="subtitle">8. Проверьте передаточное число по угловой скорости: <b>А. Канала крена</b></p>

          <table class="tech">
            <colgroup>
              <col class="col-ops" />
              <col class="col-tt" />
              <col class="col-dev" />
            </colgroup>
            <thead>
              <tr>
                <th>Содержание операций</th>
                <th>Технические требования (ТТ)</th>
                <th>Работы, выполняемые при отклонениях от ТТ</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <b>9. Проверьте передаточное число по угловой скорости:</b><br><br>
 Канала крена, для чего:
 Снять с вертолета датчик угловой скорости ДУСУ1-18АС, установите его на поворотную установку УПГ-56 с помощью удленительного жгута ( изд. 6С6.640.046-1 )  соедините датчик со схемой вертолета;
 Нажмите кнопку-табло  "ВКЛ". на пульте управления канала крена и поворотом шкалы ручки центровки установите подвижный индекс индикатора нулевого  в среднее положение;
 Задайте с помощью установки вращение датчика, соответствующее правому (левому) крену вертолета и, плавно меняя скорость вращения установки, отклоните шток малого цилиндра рулевого агрегата в положение, при котором подвижный индекс нулевого индикатора совместится с промежуточной отметкой.
 Заметьте направление отклонения подвижного индекса нулевого индикатора от среднего положения;	
 При вращении датчика в сторону правого (левого) крена подвижный индекс нулевого индикатора должен отклоняться влево (вправо).
 Замерьте секундомером время поворота платформы установки на определенный угол и определите угловую скорость враще¬ния, как частное от деления величины угла на время поворота установки на этот угол,полученное значение задаваемой угловой скорости и передаточного числа по угловой скорости должно соответствовать техническим требованиям.
 Задаваемая угловая скорость (8+6-2) град. /с, Передаточное число (8 ±3,2) % хода штока/град/с.
 Нажать кнопку триммера на ручке управления лётчика и вновь произвести описанную для канала крена проверку.Полученное значение угловой скорости и передаточного числа в режиме управления по крену должно соответствовать техническим требованиям.
 Задаваемая угловая скорость  (17+16,5-6) град. /с, Передаточное число (4 ±2) % хода штока / град/с.
 После проверки и регулировки передаточного числа в канале направления выключатель В3 на технологическом жгуте поставить в положение "ОТКЛ" и проверить работоспособность изодрома в цепи ДУСа следующим образом:
 После проверки и регулировки, отключить канал крена кнопкой табло "ОТКЛ" на пульте управления и установить датчик угловой скорости на место.
              
            </td>

            <!-- СРЕДНИЙ СТОЛБЕЦ: ТТ (ВСТАВЬ СЮДА СЛОВО-В-СЛОВО) -->
            <td class="pre">Технические требования (ТТ)
Передаточное число по угловой скорости в канале крена
Задаваемая угловая скорость 
(8+6-2) град. /с
Передаточное число 
(8 ±3,2) % хода штока/град/с
Передаточное число по угловой скорости в канале крена в режиме управления по крену
Задаваемая угловая скорость
(17+16,5-6) град. /с
Передаточное число 
(4 ±2) % хода штока / град/с
</td>

            <!-- ПРАВЫЙ СТОЛБЕЦ: РАБОТЫ ПРИ ОТКЛОНЕНИЯХ (ВСТАВЬ СЮДА СЛОВО-В-СЛОВО) -->
            <td class="pre">Работы, выполняемые при отклонениях от ТТ
Отключите и вновь включите канал крена кнопками- лампочками "ОТКЛ" и "ВКЛ." на пульте управления. Поворотом шкалы ручки центровки установите подвиж-ный индекс нулевого индикатора в среднее положение. Задайте вращение установке, со-ответ¬ствующее правому крену со скоро-стью 8,0 град/с Поворотом подстроечного резистора "СКОР." на пульте управления добей-тесь, чтобы подвижный индекс нулевого ин-дикатора совместился с левой промежуточной отметкой. Измените направление вращения установки (в сторону левого левого) и плавным изменением скорости вращения совместите подвижный' индекс нулевого индикатора с правой промежуточной точной отметкой. Скорость вращения должна быть (8+2,5-1,0) град/с</td>
              </tr>
            </tbody>
          </table>

          <div class="figblock">
            <div class="figcap">Рис. 6 (29.JPEG)</div>
            <img class="figimg" src="./29.JPEG" alt="Рис. 6. Крепление датчика угловых скоростей на поворотной установке.">
          </div>
        </div>
      </div>
    </div>

  <!-- КАЛЬКУЛЯТОР (канал крена) — только ω -> μ, два режима: основной и режим управления (кнопка триммера) -->
<div class="calc card" id="calc-mu">
  <h2>Калькулятор передаточного числа &mu; (канал крена)</h2>

  <div class="formula">
    Формула: <b>&mu; = 66,7 / &omega;</b>,
    где <b>&omega;</b> — угловая скорость, град/с.
  </div>

  <div class="calc-grid">
    <div class="field">
      <label for="modeSel">Режим проверки</label>
      <select id="modeSel">
        <option value="main">Передаточное число по угловой скорости (канал крена)</option>
        <option value="trim">Передаточное число по угловой скорости (режим управления по крену, кнопка триммера)</option>
      </select>
    </div>

    <div class="field">
      <label for="omegaIn">Угловая скорость &omega;, град/с</label>
      <input id="omegaIn" type="text" inputmode="decimal" placeholder="например 8.0">
      <div class="hint">Вводишь только &omega;. Константа 66,7 фиксированная.</div>
    </div>

    <div class="field">
      <label for="muOut">Передаточное число &mu;, %/(град/с)</label>
      <input id="muOut" type="text" readonly placeholder="—">
      <div class="hint" id="muRangeHint">—</div>
    </div>
  </div>

  <div class="btn-row">
    <button type="button" id="btnCalcMu">Рассчитать</button>
    <button type="button" id="btnClearMu" class="ghost">Очистить</button>
  </div>

  <div class="status" id="statusBox">
    <div class="tt" id="ttLine">—</div>
    <div class="res" id="resLine">Введи &omega; и нажми «Рассчитать».</div>
  </div>
</div>

<script>
(function(){
  // Константа (оставляем как у тебя в p08/p09)
  const CONST_S = 66.7;

  // ТТ: канал крена (из твоего текста в p09)
  // 1) ω = (8+6-2) => 6…14 ; μ = (8 ±3,2) => 4,8…11,2
  // 2) ω = (17+16,5-6) => 11…33,5 ; μ = (4 ±2) => 2…6
  const MODES = {
    main: {
      title: 'Передаточное число по угловой скорости (канал крена)',
      omega0: 8.0, plus: 6.0, minus: 2.0,
      mu0: 8.0, tol: 3.2
    },
    trim: {
      title: 'Передаточное число по угловой скорости (режим управления по крену, кнопка триммера)',
      omega0: 17.0, plus: 16.5, minus: 6.0,
      mu0: 4.0, tol: 2.0
    }
  };

  const modeSel = document.getElementById('modeSel');
  const omegaIn = document.getElementById('omegaIn');
  const muOut   = document.getElementById('muOut');
  const ttLine  = document.getElementById('ttLine');
  const resLine = document.getElementById('resLine');
  const muRangeHint = document.getElementById('muRangeHint');
  const btnCalc = document.getElementById('btnCalcMu');
  const btnClr  = document.getElementById('btnClearMu');

  function toNum(s){
    if(s == null) return NaN;
    s = String(s).trim().replace(',', '.').replace(/\s+/g,'');
    const n = Number(s);
    return Number.isFinite(n) ? n : NaN;
  }

  function fmt(n, d=3){
    return Number(n).toFixed(d).replace('.', ',');
  }

  // умный формат: если число целое — без .0, если нет — 1 знак после запятой
  function fmtSmart(n){
    const isInt = Math.abs(n - Math.round(n)) < 1e-9;
    return (isInt ? fmt(n,0) : fmt(n,1));
  }

  function setTT(){
    const m = MODES[modeSel.value];
    const omegaMin = m.omega0 - m.minus;
    const omegaMax = m.omega0 + m.plus;
    const muMin = m.mu0 - m.tol;
    const muMax = m.mu0 + m.tol;

    ttLine.textContent =
      `${m.title}. Допуск ω: ${fmtSmart(omegaMin)}…${fmtSmart(omegaMax)} град/с. ` +
      `Допуск μ: ${fmtSmart(muMin)}…${fmtSmart(muMax)} %/(град/с). Формула: μ = 66,7 / ω.`;

    muRangeHint.textContent =
      `Диапазон μ по ТТ: ${fmtSmart(muMin)}…${fmtSmart(muMax)} (мин/макс).`;
  }

  function calc(){
    const m = MODES[modeSel.value];
    const omegaMin = m.omega0 - m.minus;
    const omegaMax = m.omega0 + m.plus;
    const muMin = m.mu0 - m.tol;
    const muMax = m.mu0 + m.tol;

    const w = toNum(omegaIn.value);
    muOut.value = '';

    if(!Number.isFinite(w) || w <= 0){
      resLine.textContent = 'Ошибка ввода: введи ω > 0.';
      return;
    }

    const mu = CONST_S / w;
    muOut.value = fmt(mu,3);

    const okW = (w >= omegaMin && w <= omegaMax);
    const okMu = (mu >= muMin && mu <= muMax);
    const verdict = (okW && okMu) ? 'PASS по ТТ' : 'FAIL по ТТ';

    resLine.innerHTML =
      `Введено ω = <b>${fmt(w,3)}</b> град/с → μ = <b>${fmt(mu,3)}</b> %/(град/с). ` +
      `Допуск μ: ${fmtSmart(muMin)}…${fmtSmart(muMax)}. Итог: <b>${verdict}</b>.`;
  }

  function clearAll(){
    omegaIn.value = '';
    muOut.value = '';
    resLine.textContent = 'Введи ω и нажми «Рассчитать».';
  }

  modeSel.addEventListener('change', ()=>{ setTT(); if(omegaIn.value.trim()) calc(); });
  btnCalc.addEventListener('click', calc);
  btnClr.addEventListener('click', clearAll);
  omegaIn.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ e.preventDefault(); calc(); }});

  setTT();
})();
</script>
