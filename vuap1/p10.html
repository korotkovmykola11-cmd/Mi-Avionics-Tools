<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>П11. Проверка передаточного числа по скорости изменения высоты</title>
  <style>
    :root{
      --bg1:#06142c;
      --bg2:#0a2a58;
      --card:#ffffff;
      --ink:#0b0b0b;
      --line:#2b2b2b;
      --muted:#6b6b6b;
      --panel:#0b1f3f;
      --panel2:#0e2a56;
      --panelLine:rgba(255,255,255,.18);
      --panelText:#e9f0ff;
      --panelText2:rgba(233,240,255,.75);
      --accent:#69a7ff;
      --btn:#183a72;
      --btn2:#214a8f;
      --bad:#ff6b6b;
      --ok:#5ee28f;
    }
    html,body{height:100%}
    body{
      margin:0;
      font-family: "Times New Roman", Times, serif;
      background: radial-gradient(1200px 800px at 20% 15%, var(--bg2), var(--bg1));
      color:var(--panelText);
    }

    .topbar{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:10px 16px;
      font-family: Arial, Helvetica, sans-serif;
      font-size:12px;
      color:var(--panelText2);
    }
    .topbar b{color:var(--panelText)}
    .wrap{
      max-width:1100px;
      margin:0 auto;
      padding:14px 16px 26px;
    }

    /* Белая "страница" как в документе */
    .paper{
      background:var(--card);
      color:var(--ink);
      border-radius:10px;
      box-shadow:0 10px 30px rgba(0,0,0,.35);
      padding:14px 14px 16px;
      border:1px solid rgba(0,0,0,.15);
    }
    .paper .h1{
      font-weight:700;
      font-size:18px;
      margin:0 0 4px 0;
    }
    .paper .h2{
      margin:0 0 10px 0;
      font-size:13px;
      font-weight:400;
    }

    table.tech{
      width:100%;
      border-collapse:collapse;
      table-layout:fixed;
      font-size:12px;
      line-height:1.2;
    }
    table.tech th, table.tech td{
      border:1px solid #3a3a3a;
      vertical-align:top;
      padding:8px 8px;
      word-break:break-word;
    }
    table.tech th{
      text-align:center;
      font-weight:700;
      background:#f7f7f7;
    }

    /* блок рисунка внутри "листа" */
    .figblock{
      border:1px solid #3a3a3a;
      margin-top:10px;
      padding:8px;
    }
    .figcap{
      font-size:12px;
      font-weight:700;
      margin:0 0 6px 0;
    }
    .figblock img{
      display:block;
      max-width:100%;
      height:auto;
      border:1px solid #9a9a9a;
    }

    /* Панель калькулятора */
    .calc{
      margin-top:14px;
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid var(--panelLine);
      border-radius:12px;
      padding:14px;
      box-shadow:0 10px 24px rgba(0,0,0,.22);
      font-family: Arial, Helvetica, sans-serif;
    }
    .calc h3{
      margin:0 0 8px 0;
      font-size:14px;
      font-weight:700;
      color:var(--panelText);
    }
    .calc .sub{
      margin:0 0 12px 0;
      font-size:12px;
      color:var(--panelText2);
    }
    .grid{
      display:grid;
      grid-template-columns: 1.2fr 1fr 1fr;
      gap:10px;
    }
    @media (max-width:900px){
      .grid{grid-template-columns:1fr}
    }
    .field{
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.14);
      border-radius:10px;
      padding:10px;
    }
    .field label{
      display:block;
      font-size:12px;
      color:var(--panelText2);
      margin-bottom:6px;
    }
    .field input, .field select{
      width:100%;
      box-sizing:border-box;
      border-radius:8px;
      border:1px solid rgba(255,255,255,.20);
      background: rgba(6,20,44,.55);
      color:var(--panelText);
      padding:10px 10px;
      outline:none;
      font-size:14px;
    }
    .btnrow{
      display:flex;
      gap:10px;
      margin-top:10px;
      flex-wrap:wrap;
    }
    button{
      border:1px solid rgba(255,255,255,.18);
      background: linear-gradient(180deg, var(--btn2), var(--btn));
      color:var(--panelText);
      padding:10px 12px;
      border-radius:10px;
      cursor:pointer;
      font-weight:700;
      font-size:13px;
    }
    button:active{transform:translateY(1px)}
    .out{
      margin-top:10px;
      padding:10px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color:var(--panelText);
      font-size:13px;
      min-height:38px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .out .big{
      font-size:16px;
      font-weight:800;
      color:var(--panelText);
    }
    .hint{
      margin-top:8px;
      color:var(--panelText2);
      font-size:12px;
      line-height:1.35;
    }
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;}
  </style>
</head>

<body>
  <div class="topbar">
    <div><b>Mi-Avionics-Tools</b> / vuap1 / p11.html</div>
    <div>Пункт 11 — скорость изменения высоты</div>
  </div>

  <div class="wrap">
    <div class="paper">
      <div class="h1">Содержание операций</div>
      <div class="h2">11. Проверьте передаточное число по скорости изменения высоты.</div>

      <!-- ТАБЛИЦА 3 КОЛОНКИ — один в один по структуре -->
      <table class="tech">
        <colgroup>
          <col style="width:58%">
          <col style="width:20%">
          <col style="width:22%">
        </colgroup>
        <thead>
          <tr>
            <th>Содержание операций</th>
            <th>Технические требования<br>(ТТ)</th>
            <th>Работы, выполняемые при отклонениях от ТТ</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
             Подсоединить к КЗВ установку КПУ-3 с вариометром (рис.8).
             Выключатель В1 в технологическом жгуте 24-7100-70 поставить в положение "Vy".
             Создать при помощи КПУ-3 разрежение, соответствующее высоте 300м.
             Нажать кнопку-табло "ВКЛ" на пульте управления канала высоты и поворотом потенциометра "ЦЕНТР" установить стрелку индикатора нулевого в среднее положение.
             Плавно изменить с помощью КПУ-3 разрежение на подъём(спуск) величину 100м изменения высоты от исходного значения 300м.
             Заметить установленное значение высоты.
             Плавным изменением вертикальной скорости при помощи КПУ-3 на спуск(подъём) в пределах не более 200 метров изменения высоты от установленного значения отклонить шток малого цилиндра рулевого агрегата
             до совмещения стрелки индикатора нулевого с промежуточной отметкой,заметив по вариометру величину вертикальной скорости и направления  отклонения стрелки индикатора нулевого.
             При отклонении стрелкм вариометра на спуск(подъём) стрелка индикатора нулевого должна отклоняться вверх(вниз).
             Полученное значение вертикальной скорости и передаточное число должно соответствовать техническим требованиям. Задаваемая вертикальная скорость (6,5+4,5-3,5) м/с,Передаточное число (10 ±4) % хода шока / м/с.
             По окончании проверки (и регулировки) выключатель В1 поставить в положение "ОТКЛ" и в случае,если при включённом канале высоты стрелка индикатора нулевого будет не в среднем положении,
             произвести подрегулировку потенциометром "ЦЕНТР".
             Отключить канал высоты кнопкой-табло "ОТКЛ" на пульте управления канала высоты.
              
            </td>
            <td>
            При отклонении стрелки вариометра на спуск (подъем) подвижный индекс нулевого индикатора должен отклоняться вверх (вниз).
            Задаваемая вертикальная скорость 
            (6,5+4,5-3,5) м/с
            Передаточное число
            (10 ±4) % хода шока / м/с

            </td>
            <td>
             Отключите канал высоты кнопкой -табло "ОТКЛ." на пульте управления. Создайте разрежение, соответствующее высоте 300 м. Включите канал высоты кнопкой- табло "ВКЛ." на пульте управления. 
             Поворотом потенциометра "ЦЕНТР" установите подвижный индекс нулевого индикатора в среднее положение. Создайте вертикальную скорость 6,5 м/с в сторону спуска в пределах не более 200 м изменения высоты от полученного значения и поворотом подстроечного резистора "СКОР." на пульте управления совместите подвижный индекс нулевого индикатора с верхней промежуточной отметкой. 
             Плавно изменяя вертикальную скорость в сторону подъема,  совместите подвижный индекс нулевого индикатора с нижней промежуточной отметкой. Вертикальная скорость должна быть в пределах (6,5+2,0-1,0) м/с.
            </td>
          </tr>
        </tbody>
      </table>

      <!-- РИСУНОК -->
      <div class="figblock">
        <div class="figcap">Рис. (40.JPEG)</div>
        <img src="./40.JPEG"
             alt="Рисунок 40. (из технологии)"
             onerror="this.insertAdjacentHTML('afterend','<div style=&quot;margin-top:8px;color:#b00020;font-weight:700;font-family:Arial&quot;>ОШИБКА: файл 40.JPEG не найден рядом с p11.html (проверь имя/регистр/папку).</div>'); this.remove();" />
        <div style="margin-top:6px;font-size:12px;color:#444;font-family:Arial">
          Если картинка не открылась: имя файла и регистр должны быть ровно <b>40.JPEG</b>, и он должен лежать рядом с <b>p11.html</b> в папке <b>vuap1</b>.
        </div>
      </div>
    </div>

    <!-- КАЛЬКУЛЯТОР -->
    <div class="calc" id="calc">
      <h3>Калькулятор передаточного числа (скорость изменения высоты)</h3>
      <p class="sub">
        Формула: <span class="mono">μ = 66,7 / Vᵧ</span>, где <span class="mono">Vᵧ</span> — задаваемая вертикальная скорость.
        Константа <span class="mono">66,7</span> фиксированная.
      </p>

      <div class="grid">
        <div class="field">
          <label for="vy">Vᵧ (задаваемая вертикальная скорость)</label>
          <input id="vy" type="number" step="0.01" placeholder="например 3.5" />
        </div>

        <div class="field">
          <label for="unit">Единицы Vᵧ</label>
          <select id="unit">
            <option value="ms">м/с</option>
            <option value="mmin">м/мин</option>
          </select>
        </div>

        <div class="field">
          <label>Результат</label>
          <div class="out">
            <div>Передаточное число: <span class="big" id="muOut">—</span></div>
            <div style="color:var(--panelText2);font-size:12px" id="muUnit">%/(м/с)</div>
          </div>
        </div>
      </div>

      <div class="btnrow">
        <button type="button" id="btnCalc">Посчитать μ</button>
        <button type="button" id="btnClear">Очистить</button>
      </div>

      <div class="hint" id="hint">
        • Если Vᵧ задано в м/мин — будет автоматически переведено в м/с (деление на 60).<br>
        • В технологии иногда пишут Vᵧ как “вертикальная скорость”. Тут это один параметр.<br>
        • Единицы результата отображаются справа (%/(м/с) или %/(м/мин) — по выбранным единицам входа).
      </div>
    </div>
  </div>

  <script>
    (function(){
      const $ = (id)=>document.getElementById(id);

      const vy = $('vy');
      const unit = $('unit');
      const muOut = $('muOut');
      const muUnit = $('muUnit');
      const btnCalc = $('btnCalc');
      const btnClear = $('btnClear');

      // Константа из технологии
      const K = 66.7;

      function toNumber(v){
        const n = Number(String(v).replace(',', '.'));
        return Number.isFinite(n) ? n : NaN;
      }

      function calc(){
        const vIn = toNumber(vy.value);

        if(!Number.isFinite(vIn) || vIn <= 0){
          muOut.textContent = '—';
          muOut.style.color = 'var(--bad)';
          muUnit.textContent = unit.value === 'mmin' ? '%/(м/мин)' : '%/(м/с)';
          return;
        }

        // Перевод в м/с для расчёта
        const v_ms = (unit.value === 'mmin') ? (vIn / 60) : vIn;

        // μ = 66.7 / Vy
        const mu = K / v_ms;

        // Показываем в тех же единицах, что выбрал пользователь:
        // если выбрал м/мин — пересчитаем отображение так, чтобы было “%/(м/мин)”
        // т.е. μ_(per m/min) = 66.7 / (Vy_m/min) * 60  ? Нет.
        // Проще: показываем одинаково по формуле μ=66.7/Vy, но Vy берём в выбранных единицах:
        // Чтобы “видел как считает”, показываем отдельно:
        let muDisplay, unitText;
        if(unit.value === 'mmin'){
          // считаем прямо по введённому (м/мин), как ты хочешь "я ввожу Vy и сразу μ"
          // μ = 66.7 / Vy_(м/мин)
          muDisplay = K / vIn;
          unitText = '%/(м/мин)';
        }else{
          muDisplay = mu; // K / Vy_(м/с)
          unitText = '%/(м/с)';
        }

        muOut.textContent = muDisplay.toFixed(3).replace('.', ',');
        muOut.style.color = 'var(--ok)';
        muUnit.textContent = unitText;
      }

      function clearAll(){
        vy.value = '';
        unit.value = 'ms';
        muOut.textContent = '—';
        muOut.style.color = 'var(--panelText)';
        muUnit.textContent = '%/(м/с)';
      }

      btnCalc.addEventListener('click', calc);
      btnClear.addEventListener('click', clearAll);

      // Автопересчёт при вводе
      vy.addEventListener('input', calc);
      unit.addEventListener('change', calc);
    })();
  </script>
</body>
</html>
