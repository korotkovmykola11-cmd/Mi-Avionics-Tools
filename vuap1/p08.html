<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Пункт 8 — Проверка передаточного числа по угловой скорости (канал направления)</title>

  <style>
    :root{
      --bg1:#081a3a;
      --bg2:#071431;
      --card:#0f254f;
      --card2:#0c1f43;
      --text:#eaf0ff;
      --muted:#b9c6ea;
      --line:#2b3a62;
      --btn:#1a356d;
      --btn2:#163064;
      --danger:#ff5a6a;
      --ok:#34d399;
      --warn:#fbbf24;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
      color:var(--text);
      background: radial-gradient(1200px 600px at 50% 0%, var(--bg1), var(--bg2));
    }
    .topbar{
      height:44px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      color:var(--muted);
      font-size:12px;
      letter-spacing:.2px;
      opacity:.9;
      padding:0 10px;
    }
    .wrap{
      max-width:1100px;
      margin:0 auto;
      padding:12px 14px 40px;
    }

    /* Белый "лист" */
    .paper-wrap{
      display:flex;
      justify-content:center;
    }
    .paper-scroll{
      width:100%;
      overflow-x:auto;         /* ключ: на телефоне скролл, а не сжатие */
      padding-bottom:8px;
    }
    .paper{
      background:#fff;
      color:#000;
      border-radius:10px;
      box-shadow:0 10px 30px rgba(0,0,0,.35);
      border:1px solid rgba(0,0,0,.2);
      padding:18px 18px 14px;
      min-width:860px;         /* ключ: чтобы не ужималось в “кишку” */
      max-width:1060px;
      margin:0 auto;
    }
    .paper h2{
      font-size:18px;
      margin:0 0 6px 0;
      font-weight:700;
    }
    .paper .subtitle{
      font-size:12px;
      margin:0 0 10px 0;
      opacity:.85;
    }

    table.tech{
      width:100%;
      border-collapse:collapse;
      table-layout:fixed;
      font-size:12px;
      line-height:1.25;
    }
    table.tech th, table.tech td{
      border:1px solid #444;
      vertical-align:top;
      padding:8px 8px 10px;
      word-wrap:break-word;
    }
    table.tech th{
      font-weight:700;
      text-align:center;
    }
    .col-ops{width:56%}
    .col-tt{width:22%}
    .col-dev{width:22%}

    .figblock{
      margin-top:10px;
      border:1px solid #444;
      padding:8px;
    }
    .figcap{
      font-size:12px;
      font-weight:700;
      margin-bottom:6px;
    }
    .figimg{
      width:100%;
      height:auto;
      display:block;
      border:1px solid #bbb;
      background:#f4f4f4;
      max-height:520px;
      object-fit:contain;
    }

    /* Калькулятор */
    .calc{
      margin-top:14px;
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      border:1px solid rgba(255,255,255,.14);
      border-radius:14px;
      padding:14px;
      box-shadow:0 10px 24px rgba(0,0,0,.25);
    }
    .calc h3{
      margin:0 0 6px;
      font-size:14px;
      font-weight:800;
      color:var(--text);
    }
    .calc .formula{
      font-size:12px;
      color:var(--muted);
      margin:0 0 12px;
    }
    .grid{
      display:grid;
      grid-template-columns: 1.3fr 1fr 1fr;
      gap:10px;
    }
    .field label{
      display:block;
      font-size:12px;
      color:var(--muted);
      margin:0 0 4px;
    }
    select, input{
      width:100%;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.18);
      color:var(--text);
      padding:10px 10px;
      border-radius:10px;
      outline:none;
      font-size:14px;
    }
    input::placeholder{color:rgba(255,255,255,.35)}
    .actions{
      display:flex;
      gap:10px;
      margin-top:10px;
      flex-wrap:wrap;
    }
    button{
      border:1px solid rgba(255,255,255,.18);
      background: linear-gradient(180deg, var(--btn), var(--btn2));
      color:var(--text);
      padding:10px 12px;
      border-radius:10px;
      cursor:pointer;
      font-weight:700;
      font-size:13px;
    }
    button:active{transform:translateY(1px)}
    .out{
      margin-top:10px;
      padding:10px 12px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.20);
      font-size:13px;
      min-height:44px;
      white-space:pre-line;
    }
    .tag{
      display:inline-block;
      padding:2px 8px;
      border-radius:999px;
      font-size:12px;
      font-weight:800;
      margin-left:8px;
      vertical-align:middle;
    }
    .tag.ok{background:rgba(52,211,153,.18); color:var(--ok); border:1px solid rgba(52,211,153,.35)}
    .tag.bad{background:rgba(255,90,106,.18); color:var(--danger); border:1px solid rgba(255,90,106,.35)}
    .tag.warn{background:rgba(251,191,36,.18); color:var(--warn); border:1px solid rgba(251,191,36,.35)}

    @media (max-width:720px){
      .grid{grid-template-columns:1fr}
      .paper{min-width:860px} /* специально оставляем — будет скролл */
    }
  </style>
</head>

<body>
  <div class="topbar">
    Mi-Avionics-Tools / vuap1 / p08.html
    <span style="margin-left:auto;opacity:.8">Пункт 8 — только канал направления</span>
  </div>

  <div class="wrap">

    <!-- БЕЛЫЙ ЛИСТ -->
    <div class="paper-wrap">
      <div class="paper-scroll">
        <div class="paper">
          <h2>Содержание операций</h2>
          <p class="subtitle">8. Проверьте передаточное число по угловой скорости: <b>А. Канала направления</b></p>

          <table class="tech">
            <colgroup>
              <col class="col-ops" />
              <col class="col-tt" />
              <col class="col-dev" />
            </colgroup>
            <thead>
              <tr>
                <th>Содержание операций</th>
                <th>Технические требования (ТТ)</th>
                <th>Работы, выполняемые при отклонениях от ТТ</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <b>8. Проверьте передаточное число по угловой скорости:</b><br><br>
 Канала направления, для чего:
 Снимите с вертолета датчик угловой скорости, установите его на. установку УПГ-56 с помощью кронштейна 6С4.132.020 и с помощью переходного жгута 6С6.640.046-1 соедините датчик со схемой вертолета;
 выключатель В3 технологического жгута 246-9948-00 установите в положение "Wy ";
 Нажмите кнопку- лампочку  "ВКЛ". на пульте управления и поворотом шкалы ручки центровки установите подвижный индекс нулевого индикатора в среднее положение;
 Задайте с помощью установки вращение датчика, соответствующее правому (левому) разво¬роту вертолета и, плавно меняя скорость вращения установки, отклоните шток малого цилиндра рулевого агрегата в положение, при котором подвижный индекс нулевого индикатора совместится с промежуточной отметкой.
 Заметьте направление отклонения подвижного индекса нулевого индикатора от среднего положения;	
 При вращении датчика в сторону правого (левого) разворота подвижный индекс нулевого индикатора должен отклоняться влево (вправо).
 Замерьте секундомером время поворота платформы установки на определенный угол и определите угловую скорость враще¬ния, как частное от деления величины угла на время поворота установки на этот угол,полученное значение задаваемой угловой скорости и передаточного числа по угловой скорости должно соответствовать техническим требованиям.
 Отключить канал направления кнопкой-табло "ОТКЛ" на пульте управления.
      Поставьте ноги на педали и произведите аналогичную проверку (режим управления по курсу)   
      Задаваемая угловая скорость  (6,5+6,5-2,0)град/с, Передаточное число (10  ±8)% хода штока/град/с.
После проверки и регулировки передаточного числа в канале направления выключатель В3 на технологическом жгуте поставить в положение "ОТКЛ" и проверить работоспособность изодрома в цепи ДУСа следующим образом:
        Задав вращение платформы установки, соответствующее правому (левому) развороту.
        Подвижный индекс нулевого индикатора должен отклониться влево (вправо), а затем возвратиться в среднее положение.
После проверки и регулировки, отключить канал направления кнопкой табло "ОТКЛ" на пульте управления и установить датчик угловой скорости на место.
              
            </td>

            <!-- СРЕДНИЙ СТОЛБЕЦ: ТТ (ВСТАВЬ СЮДА СЛОВО-В-СЛОВО) -->
            <td class="pre">Технические требования (ТТ)
Задаваемая угловая скорость
(3,5+2,1-1,1)град/с 
Передаточное число
(20 ±8) % хода штока/град/с 
Задаваемая угловая скорость
(6,5+6,5-2,0)град/с 
Передаточное число
(10  ±8)%хода штока/град/с
</td>

            <!-- ПРАВЫЙ СТОЛБЕЦ: РАБОТЫ ПРИ ОТКЛОНЕНИЯХ (ВСТАВЬ СЮДА СЛОВО-В-СЛОВО) -->
            <td class="pre">Работы, выполняемые при отклонениях от ТТ
Отключите и вновь включите канал направления кнопками- лампочками "ОТКЛ" и "ВКЛ." на пульте управления. Поворотом шкалы ручки центровки установите подвиж-ный индекс нулевого индикатора в среднее положение. Задайте вращение установке, со-ответ¬ствующее правому развороту со скоро-стью 3,5 град/с Поворотом подстроечного ре-зистора "СКОР." на пульте управления добей-тесь, чтобы подвижный индекс нулевого ин-дикатора совместился с левой промежуточной отметкой. Измените направление вращения установки (в сторону левого разворота) и плавным изменением скорости вращения совместите подвижный' индекс нулевого ин-дикатора с правой промежуточной точной от-меткой. Скорость вращения должна быть (3,5 ±0,7)град/с</td>
              </tr>
            </tbody>
          </table>

          <div class="figblock">
            <div class="figcap">Рис. 6 (29.JPEG)</div>
            <img class="figimg" src="./29.JPEG" alt="Рис. 6. Крепление датчика угловых скоростей на поворотной установке.">
          </div>
        </div>
      </div>
    </div>

    <!-- КАЛЬКУЛЯТОР (канал направления) — версия без "угла платформы", только ω -->
<div class="calc card" id="calc-mu">
  <h2>Калькулятор передаточного числа &mu; (канал направления)</h2>

  <div class="formula">
    Формула: <b>&mu; = 66,7 / &omega;</b>,
    где <b>&omega;</b> — угловая скорость, град/с.
  </div>

  <div class="calc-grid">
    <div class="field">
      <label for="modeSel">Режим ТТ</label>
      <select id="modeSel">
        <option value="main">Основной режим: ω = (3,5+2,1−1,1) град/с; μ = (20 ±8)</option>
        <option value="course">Режим «по курсу/изодром»: ω = (6,5+6,5−2,0) град/с; μ = (10 ±8)</option>
      </select>
    </div>

    <div class="field">
      <label for="omegaIn">Угловая скорость &omega;, град/с</label>
      <input id="omegaIn" type="text" inputmode="decimal" placeholder="например 3.5">
      <div class="hint">Вводи только &omega;. Константа 66,7 фиксированная.</div>
    </div>

    <div class="field">
      <label for="muOut">Передаточное число &mu;, %/(град/с)</label>
      <input id="muOut" type="text" readonly placeholder="—">
      <div class="hint" id="muRangeHint">—</div>
    </div>
  </div>

  <div class="btn-row">
    <button type="button" id="btnCalcMu">Рассчитать</button>
    <button type="button" id="btnClearMu" class="ghost">Очистить</button>
  </div>

  <div class="status" id="statusBox">
    <div class="tt" id="ttLine">—</div>
    <div class="res" id="resLine">Введи &omega; и нажми «Рассчитать».</div>
  </div>
</div>

<!-- (опционально) Проверка изодрома — текстом, без “симуляции” -->
<div class="calc card" id="iso-check">
  <h2>Проверка работоспособности изодрома (цепь датчика угловой скорости)</h2>
  <p class="isoText">
    Проверьте работоспособность изодрома в цепи датчика, задав вращение платформы установки,
    соответствующее правому (левому) развороту. Подвижный индекс нулевого индикатора должен
    отклониться в противоположную сторону, а затем вернуться в среднее (нейтральное) положение.
  </p>
</div>

<style>
  /* ВАЖНО: этот CSS влияет ТОЛЬКО на карточки калькулятора, технологию и рисунок не трогает */
  .card{
    background:rgba(0,0,0,.18);
    border:1px solid rgba(255,255,255,.12);
    border-radius:14px;
    padding:14px 16px;
    margin:14px 0;
  }
  .calc h2{margin:0 0 8px 0; font-size:16px}
  .formula{opacity:.9; font-size:13px; margin:6px 0 12px 0}
  .calc-grid{
    display:grid;
    grid-template-columns: 1.2fr 1fr 1fr;
    gap:12px;
  }
  .field label{display:block; font-size:12px; opacity:.9; margin:0 0 6px 0}
  .field input, .field select{
    width:100%;
    box-sizing:border-box;
    padding:10px 10px;
    border-radius:10px;
    border:1px solid rgba(255,255,255,.14);
    background:rgba(0,0,0,.28);
    color:#eaeef7;
    outline:none;
  }
  .field input:focus, .field select:focus{border-color:rgba(140,180,255,.55)}
  .hint{font-size:11px; opacity:.75; margin-top:6px; line-height:1.25}
  .btn-row{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}
  .btn-row button{
    padding:10px 12px;
    border-radius:10px;
    border:1px solid rgba(255,255,255,.14);
    background:rgba(40,90,180,.35);
    color:#eaeef7;
    cursor:pointer;
  }
  .btn-row button.ghost{background:rgba(0,0,0,.20)}
  .status{
    margin-top:12px;
    padding:10px 12px;
    border-radius:12px;
    border:1px dashed rgba(255,255,255,.16);
    background:rgba(0,0,0,.14);
  }
  .status .tt{font-size:12px; opacity:.92; margin-bottom:6px}
  .status .res{font-size:12px}
  .pass{color:#39d98a; font-weight:700}
  .fail{color:#ff6b6b; font-weight:700}

  .isoText{margin:0; font-size:13px; opacity:.9; line-height:1.35}

  /* Мобильный вид — чтобы калькулятор НЕ превращался в “узкую колонку” */
  @media (max-width: 900px){
    .calc-grid{grid-template-columns:1fr}
  }
</style>

<script>
(function(){
  // ТТ: направления
  // Основной режим: ω = (3,5 +2,1 −1,1) => 2,4…5,6 ; μ = 20±8 => 12…28
  // По курсу/изодром: ω = (6,5 +6,5 −2,0) => 4,5…13,0 ; μ = 10±8 => 2…18

  const TT = {
    main:   { wMin: 2.4,  wMax: 5.6,  muMin: 12, muMax: 28,
              label: 'Основной режим' },
    course: { wMin: 4.5,  wMax: 13.0, muMin: 2,  muMax: 18,
              label: 'Режим «по курсу/изодром»' }
  };

  const k = 66.7;

  const modeSel = document.getElementById('modeSel');
  const omegaIn = document.getElementById('omegaIn');
  const muOut   = document.getElementById('muOut');
  const ttLine  = document.getElementById('ttLine');
  const resLine = document.getElementById('resLine');
  const muRangeHint = document.getElementById('muRangeHint');
  const btnCalc = document.getElementById('btnCalcMu');
  const btnClr  = document.getElementById('btnClearMu');

  function toNum(s){
    if(s == null) return NaN;
    // поддержка запятой
    s = String(s).trim().replace(',', '.');
    // убрать пробелы
    s = s.replace(/\s+/g,'');
    const n = Number(s);
    return Number.isFinite(n) ? n : NaN;
  }

  function fmt(n, d=2){
    return Number(n).toFixed(d).replace('.', ',');
  }

  function setTTText(){
    const t = TT[modeSel.value];
    ttLine.textContent =
      `${t.label}: допуск ω = ${fmt(t.wMin,1)}…${fmt(t.wMax,1)} град/с; ` +
      `допуск μ = ${fmt(t.muMin,0)}…${fmt(t.muMax,0)} %/(град/с). ` +
      `Расчёт: μ = 66,7 / ω.`;
    muRangeHint.textContent =
      `Диапазон μ по ТТ: ${fmt(t.muMin,0)}…${fmt(t.muMax,0)} (мин/макс).`;
  }

  function calc(){
    const t = TT[modeSel.value];
    const w = toNum(omegaIn.value);

    muOut.value = '';
    resLine.className = 'res';

    if(!Number.isFinite(w) || w <= 0){
      resLine.innerHTML = `Ошибка ввода: введи ω &gt; 0 (град/с).`;
      return;
    }

    const mu = k / w;
    muOut.value = fmt(mu, 3);

    const wOk  = (w >= t.wMin && w <= t.wMax);
    const muOk = (mu >= t.muMin && mu <= t.muMax);

    const wTag  = wOk  ? '<span class="pass">PASS</span>' : '<span class="fail">FAIL</span>';
    const muTag = muOk ? '<span class="pass">PASS</span>' : '<span class="fail">FAIL</span>';

    resLine.innerHTML =
      `Введено ω = <b>${fmt(w,3)}</b> град/с → рассчитано μ = <b>${fmt(mu,3)}</b> %/(град/с).<br>` +
      `Проверка ω по ТТ (${fmt(t.wMin,1)}…${fmt(t.wMax,1)}): ${wTag}. ` +
      `Проверка μ по ТТ (${fmt(t.muMin,0)}…${fmt(t.muMax,0)}): ${muTag}.`;
  }

  function clearAll(){
    omegaIn.value = '';
    muOut.value = '';
    resLine.className = 'res';
    resLine.textContent = 'Введи ω и нажми «Рассчитать».';
  }

  modeSel.addEventListener('change', function(){
    setTTText();
    // не ломаем ввод — просто обновим подсказки и результат
    if(omegaIn.value.trim()) calc();
  });

  btnCalc.addEventListener('click', calc);
  btnClr.addEventListener('click', clearAll);

  // Enter = посчитать
  omegaIn.addEventListener('keydown', function(e){
    if(e.key === 'Enter'){ e.preventDefault(); calc(); }
  });

  // Инициализация
  setTTText();
})();
</script>

