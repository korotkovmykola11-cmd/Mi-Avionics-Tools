<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>P08 — Проверка передаточного числа по угловой скорости</title>

  <style>
    :root{
      --border:#111;
      --text:#111;
      --muted:#333;
      --bg:#fff;
    }
    html,body{ background:var(--bg); color:var(--text); }
    body{
      margin:24px;
      font-family:"Times New Roman", Times, serif;
      line-height:1.25;
      font-size:16px;
    }
    .page{
      max-width: 980px;
      margin: 0 auto;
    }
    h1,h2,h3{ margin:0; text-align:center; }
    h1{ font-size:22px; letter-spacing:.2px; }
    h2{ font-size:22px; margin-top:6px; }
    .subtitle{ text-align:center; margin:10px 0 18px; }
    .small{ font-size:14px; color:var(--muted); }
    .cap{ text-transform:uppercase; }

    .tech-table{
      width:100%;
      border-collapse:collapse;
      table-layout:fixed;
    }
    .tech-table th,
    .tech-table td{
      border:2px solid var(--border);
      vertical-align:top;
      padding:10px 10px;
    }
    .tech-table th{
      text-align:center;
      font-weight:700;
    }
    .col-ops{ width:48%; }
    .col-tt{ width:22%; }
    .col-dev{ width:30%; }

    .section-title{
      font-weight:700;
      margin:10px 0 6px;
    }
    ol{ margin:6px 0 0 18px; padding:0; }
    li{ margin:4px 0; }

    .tt-box{
      margin-top:8px;
      border:2px solid var(--border);
      padding:8px;
    }
    .tt-mini{
      width:100%;
      border-collapse:collapse;
      table-layout:fixed;
      margin-top:6px;
      font-size:15px;
    }
    .tt-mini th, .tt-mini td{
      border:2px solid var(--border);
      padding:6px 6px;
      text-align:center;
      vertical-align:middle;
    }
    .math{
      font-style:italic;
      text-align:center;
      margin:10px 0 6px;
      font-size:18px;
    }
    .where{
      margin:6px 0 0;
      font-size:15px;
    }

    figure{
      margin:18px 0;
      text-align:center;
      page-break-inside:avoid;
    }
    figure img{
      max-width:100%;
      height:auto;
      border:2px solid var(--border);
      background:#fff;
    }
    figcaption{
      margin-top:8px;
      font-size:16px;
    }

    .note{
      margin-top:10px;
      font-size:15px;
    }

    .calc{
      margin-top:14px;
      border:2px solid var(--border);
      padding:10px;
      page-break-inside:avoid;
    }
    .calc h3{ font-size:18px; margin-bottom:8px; }
    .grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    label{ display:block; font-size:15px; margin-bottom:4px; }
    select,input{
      width:100%;
      box-sizing:border-box;
      padding:8px;
      font-family:inherit;
      font-size:16px;
      border:2px solid var(--border);
      background:#fff;
    }
    .btnrow{
      display:flex;
      gap:10px;
      margin-top:10px;
      flex-wrap:wrap;
    }
    button{
      padding:8px 12px;
      font-family:inherit;
      font-size:16px;
      border:2px solid var(--border);
      background:#f3f3f3;
      cursor:pointer;
    }
    .result{
      margin-top:10px;
      border-top:2px solid var(--border);
      padding-top:10px;
      font-size:15px;
    }
    .ok{ font-weight:700; }
    .bad{ font-weight:700; }

    @media (max-width: 820px){
      body{ margin:12px; }
      .grid{ grid-template-columns:1fr; }
    }

    @media print{
      body{ margin:12mm; }
      .calc{ display:none; }
      a{ color:inherit; text-decoration:none; }
    }
  </style>
</head>

<body>
<div class="page">

  <h1 class="cap">Технологическая карта № 2</h1>
  <h2>P08 — Проверка передаточного числа по угловой скорости</h2>
  <div class="subtitle small">(оформление: 3 колонки — «Содержание операций» / «Технические требования (ТТ)» / «Работы, выполняемые при отклонениях от ТТ»)</div>

  <table class="tech-table" aria-label="Технологическая карта P08">
    <thead>
      <tr>
        <th class="col-ops">Содержание операций</th>
        <th class="col-tt">Технические требования (ТТ)</th>
        <th class="col-dev">Работы, выполняемые при отклонениях от ТТ</th>
      </tr>
    </thead>

    <tbody>
      <!-- a) Канал направления -->
      <tr>
        <td>
          <div class="section-title">а) Канал направления</div>
          <ol>
            <li>Снять с вертолёта датчик угловых скоростей направления <b>ДУСУ1-18АС</b> и установить его на поворотную установку, обеспечивающую плавное изменение угловой скорости в диапазоне <b>0–20 град/сек</b> (рис. 6).</li>
            <li>С помощью удлинительного жгута изд. <b>606.640.046-1</b> соединить датчик с фидерной схемой вертолёта.</li>
            <li>Выключатель <b>V3</b> в технологическом переходном жгуте <b>24-71-00-70</b> установить в положение <b>«ωy»</b>.</li>
            <li>Нажать кнопку-табло <b>«ВКЛ»</b> на пульте управления канала направления и поворотом шкалы ручки центровки установить стрелку индикатора нулевого в среднее положение.</li>
            <li>Задать вращение установки, соответствующее правому (левому) развороту, и плавно изменяя скорость вращения, отклонить шток малого цилиндра рулевого агрегата до положения, при котором стрелка индикатора нулевого совместится с промежуточной отметкой.</li>
            <li>Измерить секундомером скорость вращения установки.</li>
          </ol>
        </td>

        <td>
          <div class="tt-box">
            Передаточное число по угловой скорости в канале направления должно соответствовать техническим требованиям.
            <table class="tt-mini" aria-label="ТТ канал направления">
              <tr>
                <th>Задаваемая угловая скорость,<br>град/сек</th>
                <th>Передаточное число,<br>% / (град/сек)</th>
              </tr>
              <tr>
                <td><b>3,5</b><br>+2,1 / −1,1</td>
                <td><b>20 ± 8</b></td>
              </tr>
            </table>

            <div style="margin-top:10px;">
              Передаточное число рассчитывается по формуле:
              <div class="math">μ = 66,7 / ω</div>
              <div class="where">
                где:<br>
                <b>μ</b> — передаточное число по угловой скорости;<br>
                <b>66,7 (%)</b> — величина хода штока малого цилиндра рулевого агрегата от застопоренного положения (в %);<br>
                <b>ω (град/сек)</b> — задаваемая угловая скорость.
              </div>
            </div>
          </div>
        </td>

        <td>
          <ol>
            <li>Отключить и вновь включить канал направления кнопками-табло <b>«ОТКЛ»</b> и <b>«ВКЛ»</b> на пульте управления.</li>
            <li>Поворотом шкалы ручки центровки установить стрелку индикатора нулевого в среднее положение.</li>
            <li>Задать вращение установки со скоростью <b>3,5 град/сек</b> и поворотом подстроечного резистора <b>«Скор»</b> на пульте управления добиться совмещения стрелки индикатора нулевого с <b>левой</b> промежуточной отметкой.</li>
            <li>Изменить направление вращения установки и проверить симметричность отклонения.</li>
          </ol>
        </td>
      </tr>

      <!-- b) Канал крена -->
      <tr>
        <td>
          <div class="section-title">б) Канал крена</div>
          <ol>
            <li>Снять с вертолёта датчик угловых скоростей крена <b>ДУСУ-18АС</b> и установить его на поворотную установку (рис. 6).</li>
            <li>Соединить датчик с фидерной схемой вертолёта удлинительным жгутом <b>606.640.046-1</b>.</li>
            <li>Нажать кнопку-табло <b>«ВКЛ»</b> на пульте управления канала крена и поворотом шкалы ручки центровки установить стрелку индикатора нулевого в среднее положение.</li>
            <li>Задать вращение установки вправо (влево) и выполнить проверку аналогично каналу направления.</li>
          </ol>
          <div class="note"><b>Примечание.</b> После проверки нажать кнопку триммера на ручке управления лётчика и вновь произвести описанную проверку для канала крена.</div>
        </td>

        <td>
          <div class="tt-box">
            <table class="tt-mini" aria-label="ТТ канал крена">
              <tr>
                <th>Задаваемая угловая скорость,<br>град/сек</th>
                <th>Передаточное число,<br>% / (град/сек)</th>
              </tr>
              <tr>
                <td><b>8</b><br>+6 / −2</td>
                <td><b>8 ± 3,2</b></td>
              </tr>
            </table>
          </div>
        </td>

        <td>
          Подрегулировать передаточное число по методике, описанной для канала направления, используя кнопки-табло <b>«ВКЛ»</b>, <b>«ОТКЛ»</b>, шкалу ручки центровки и потенциометр <b>«Скор»</b> на пульте управления канала крена.
          <div class="note">Скорость вращения установки должна быть в пределах <b>8</b> (+2,5 / −1,0) град/сек.</div>
        </td>
      </tr>

      <!-- в) Канал тангажа -->
      <tr>
        <td>
          <div class="section-title">в) Канал тангажа</div>
          <ol>
            <li>Снять с вертолёта малогабаритную гировертикаль и установить её на поворотную установку (см. рис. 7).</li>
            <li>Соединить гировертикаль с фидерной схемой вертолёта с помощью удлинительного жгута <b>606.863.467-1</b>.</li>
            <li>Выключатель <b>V2</b> в технологическом жгуте <b>24-71-00-70</b> установить в положение <b>«ωz»</b>.</li>
            <li>Нажать кнопку-табло <b>«ВКЛ»</b> на пульте управления канала тангажа и потенциометром <b>«ЦЕНТР»</b> установить стрелку индикатора нулевого в среднее положение.</li>
          </ol>
          <div class="note"><b>Указание по проверке.</b> При вращении гировертикали на пикирование/кабрирование стрелка индикатора нулевого должна отклоняться: при <b>кабрировании — вверх</b>, при <b>пикировании — вниз</b>.</div>
        </td>

        <td>
          <div class="tt-box">
            Передаточное число по угловой скорости в канале тангажа должно соответствовать техническим требованиям.
            <table class="tt-mini" aria-label="ТТ канал тангажа">
              <tr>
                <th>Задаваемая угловая скорость,<br>град/сек</th>
                <th>Передаточное число,<br>% / (град/сек)</th>
              </tr>
              <tr>
                <td><b>6,5</b><br>+6,5 / −2,0</td>
                <td><b>10 ± 8</b></td>
              </tr>
            </table>
          </div>
        </td>

        <td>
          <ol>
            <li>Отключить и вновь включить канал тангажа кнопками-табло <b>«ОТКЛ»</b> и <b>«ВКЛ»</b> на пульте управления канала тангажа.</li>
            <li>Потенциометром <b>«ЦЕНТР»</b> установить стрелку индикатора нулевого в среднее положение.</li>
            <li>Задать вращение установки, соответствующее пикированию, со скоростью <b>3,5 град/сек</b>. Поворотом потенциометра <b>«Скор»</b> на пульте управления канала тангажа совместить стрелку индикатора нулевого с <b>верхней</b> промежуточной отметкой.</li>
            <li>Изменить скорость вращения установки в сторону кабрирования и плавным изменением скорости вращения совместить стрелку индикатора нулевого с <b>нижней</b> промежуточной отметкой.</li>
          </ol>
        </td>
      </tr>

      <!-- Общая строка ТТ (если нужно оставить как в техкарте) -->
      <tr>
        <td colspan="3">
          <div class="note">
            <b>Технические требования (общее).</b> Для всех каналов стрелка индикатора нулевого должна устанавливаться в совмещённое с крайними отметками положение с точностью до толщины стрелки.
          </div>
        </td>
      </tr>

    </tbody>
  </table>

  <!-- Рисунки -->
  <figure>
    <img id="fig6" src="" alt="Рис. 6. Крепление датчика угловых скоростей на поворотной установке." />
    <figcaption>
      <b>Рис. 6.</b> Крепление датчика угловых скоростей на поворотной установке.
      <div class="note">
        Ориентация по рисунку: знак «↑» на датчике — <b>сверху</b>. Направление вращения: «<b>правый разворот / правый крен</b>» — согласно стрелке на установке.
        Указание по крепежу: кронштейн <b>6С4.132.020</b>.
      </div>
    </figcaption>
  </figure>

  <figure>
    <img id="fig7" src="" alt="Рис. 7. Крепление гировертикали на поворотной установке." />
    <figcaption>
      <b>Рис. 7.</b> Крепление гировертикали на поворотной установке при проверке передаточного числа по угловой скорости в канале тангажа (пикирование/кабрирование).
    </figcaption>
  </figure>

  <!-- Калькулятор -->
  <div class="calc" aria-label="Калькулятор передаточного числа">
    <h3>Проверка расчёта μ = 66,7 / ω</h3>

    <div class="grid">
      <div>
        <label for="ch">Канал</label>
        <select id="ch">
          <option value="yaw">Направления (ТТ: μ = 20 ± 8; ω = 3,5 +2,1/−1,1)</option>
          <option value="roll">Крена (ТТ: μ = 8 ± 3,2; ω = 8 +6/−2)</option>
          <option value="pitch">Тангажа (ТТ: μ = 10 ± 8; ω = 6,5 +6,5/−2,0)</option>
        </select>
      </div>

      <div>
        <label for="omega">Задаваемая угловая скорость ω, град/сек</label>
        <input id="omega" type="number" step="0.01" value="3.50" />
      </div>
    </div>

    <div class="btnrow">
      <button type="button" onclick="calcMu()">Рассчитать μ и проверить ТТ</button>
      <button type="button" onclick="resetCalc()">Сброс</button>
    </div>

    <div id="out" class="result"></div>
  </div>

</div>

<script>
  // Автоподбор путей к рисункам, чтобы не было "?"
  function setFirstWorkingImage(imgEl, candidates){
    let i = 0;
    function tryNext(){
      if(i >= candidates.length){
        imgEl.alt += " (файл не найден по путям: " + candidates.join(", ") + ")";
        return;
      }
      const url = candidates[i++];
      const test = new Image();
      test.onload = () => { imgEl.src = url; };
      test.onerror = tryNext;
      test.src = url;
    }
    tryNext();
  }

  // Рисунки: ты говорил, что они "на 29-ом JPG и на 36-ом"
  // Поэтому пробуем и корень репо, и папку vuap1, и разные расширения/регистры.
  const fig6 = document.getElementById("fig6");
  const fig7 = document.getElementById("fig7");

  setFirstWorkingImage(fig6, [
    "../29.JPG","../29.jpeg","../29.jpg","../29.JPEG","../29.png",
    "29.JPG","29.jpeg","29.jpg","29.JPEG","29.png",
    "../29.Jpg","29.Jpg"
  ]);

  setFirstWorkingImage(fig7, [
    "../36.JPG","../36.jpeg","../36.jpg","../36.JPEG","../36.png",
    "36.JPG","36.jpeg","36.jpg","36.JPEG","36.png",
    "../36.Jpg","36.Jpg"
  ]);

  // Калькулятор
  const TT = {
    yaw:  { muMin: 12,  muMax: 28,  omegaHint: "3,5 (+2,1 / −1,1)" },
    roll: { muMin: 4.8, muMax: 11.2, omegaHint: "8 (+6 / −2)" },
    pitch:{ muMin: 2,   muMax: 18,  omegaHint: "6,5 (+6,5 / −2,0)" }
  };

  function calcMu(){
    const ch = document.getElementById("ch").value;
    const omega = Number(document.getElementById("omega").value);
    const out = document.getElementById("out");

    if(!isFinite(omega) || omega <= 0){
      out.innerHTML = "<span class='bad'>Ошибка:</span> ω должно быть > 0.";
      return;
    }

    const mu = 66.7 / omega; // μ = 66,7 / ω
    const lim = TT[ch];
    const ok = (mu >= lim.muMin && mu <= lim.muMax);

    out.innerHTML =
      "<div><b>Формула:</b> μ = 66,7 / ω</div>" +
      "<div><b>Введено:</b> ω = " + omega.toFixed(2) + " град/сек (подсказка ТТ: " + lim.omegaHint + ")</div>" +
      "<div><b>Результат:</b> μ = " + mu.toFixed(2) + " %/(град/сек)</div>" +
      "<div><b>Пределы ТТ для μ:</b> " + lim.muMin + " … " + lim.muMax + "</div>" +
      "<div>" + (ok ? "<span class='ok'>СООТВЕТСТВУЕТ ТТ</span>" : "<span class='bad'>НЕ СООТВЕТСТВУЕТ ТТ</span>") + "</div>";
  }

  function resetCalc(){
    document.getElementById("ch").value = "yaw";
    document.getElementById("omega").value = "3.50";
    document.getElementById("out").innerHTML = "";
  }
</script>

</body>
</html>
