<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ВУАП-1 — Пункт 8. Проверка передаточного числа по угловой скорости</title>

  <!-- ========================= -->
  <!-- MathJax (формулы)         -->
  <!-- ========================= -->
  <script>
    window.MathJax = {
      tex: { inlineMath: [['\\(','\\)']], displayMath: [['\\[','\\]']] }
    };
  </script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

  <!-- ========================= -->
  <!-- Стили                     -->
  <!-- ========================= -->
  <style>
    :root{
      --bg:#0b0f14;
      --card:#141b23;
      --card2:#101822;
      --border:#2b3a4b;
      --text:#e8eef6;
      --muted:#b8c6d8;
      --accent:#7dd3fc;

      --ok:#34d399;
      --bad:#fb7185;
      --warn:#fbbf24;

      --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
    }

    html,body{
      margin:0;
      padding:0;
      background:var(--bg);
      color:var(--text);
      font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial;
      line-height:1.35;
    }

    a{ color:var(--accent); text-decoration:none; }
    a:hover{ text-decoration:underline; }

    .wrap{
      max-width:1120px;
      margin:0 auto;
      padding:18px 14px 80px;
    }

    .topbar{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      margin-bottom:14px;
    }

    .pill{
      display:inline-block;
      padding:5px 10px;
      border:1px solid var(--border);
      border-radius:999px;
      background:rgba(255,255,255,.03);
      font-size:13px;
      color:var(--muted);
    }

    h1{
      font-size:22px;
      margin:10px 0 6px;
    }

    h2{
      font-size:18px;
      margin:20px 0 8px;
    }

    h3{
      font-size:16px;
      margin:16px 0 8px;
    }

    .muted{ color:var(--muted); }

    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:14px;
      padding:14px;
      margin:12px 0;
    }

    .card.sub{
      background:var(--card2);
      border-radius:12px;
      margin:10px 0;
    }

    .grid2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    @media(max-width: 980px){
      .grid2{ grid-template-columns:1fr; }
    }

    .hr{
      height:1px;
      background:rgba(255,255,255,.08);
      margin:14px 0;
    }

    ul{
      margin:8px 0 0 18px;
      padding:0;
    }
    li{ margin:6px 0; }

    table{
      width:100%;
      border-collapse:collapse;
      font-size:14px;
      margin-top:10px;
    }

    th,td{
      border:1px solid var(--border);
      padding:8px 10px;
      vertical-align:top;
    }

    th{
      text-align:left;
      background:rgba(255,255,255,.04);
    }

    .k{
      font-family:var(--mono);
      font-size:13px;
      padding:1px 6px;
      border:1px solid var(--border);
      border-radius:8px;
      background:rgba(255,255,255,.04);
      color:var(--text);
    }

    /* -------- Рисунки -------- */
    figure{ margin:0; }
    .imgbox{
      border:1px solid var(--border);
      border-radius:12px;
      overflow:hidden;
      background:#0b0f14;
    }
    .imgbox img{
      width:100%;
      height:auto;
      display:block;
    }
    .figcap{
      font-size:13px;
      color:var(--muted);
      margin-top:8px;
    }
    .imgstatus{
      margin-top:6px;
      font-size:13px;
      color:var(--muted);
    }

    /* -------- Калькуляторы -------- */
    .calc{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
      align-items:end;
    }
    @media(max-width: 980px){
      .calc{ grid-template-columns:1fr; }
    }

    .field label{
      display:block;
      margin-bottom:6px;
      font-size:13px;
      color:var(--muted);
    }

    .field input, .field select{
      width:100%;
      box-sizing:border-box;
      padding:10px 10px;
      border-radius:12px;
      border:1px solid var(--border);
      background:#0b0f14;
      color:var(--text);
      font-size:15px;
      outline:none;
    }

    .btnrow{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top:10px;
    }

    button{
      border:1px solid var(--border);
      background:rgba(255,255,255,.05);
      color:var(--text);
      padding:10px 12px;
      border-radius:12px;
      cursor:pointer;
      font-size:14px;
    }
    button:hover{ background:rgba(255,255,255,.08); }

    .out{
      margin-top:10px;
      padding:10px 12px;
      border-radius:12px;
      border:1px dashed rgba(125,211,252,.55);
      background:rgba(125,211,252,.08);
      font-size:14px;
    }

    .ok{ color:var(--ok); font-weight:700; }
    .bad{ color:var(--bad); font-weight:700; }
    .warn{ color:var(--warn); font-weight:700; }

    .small{
      font-size:13px;
      color:var(--muted);
      margin-top:6px;
    }

    .anchor{
      font-family:var(--mono);
      font-size:12px;
      color:var(--muted);
      margin-left:8px;
    }
  </style>
</head>

<body>
<div class="wrap">

  <!-- ========================= -->
  <!-- Верхняя панель            -->
  <!-- ========================= -->
  <div class="topbar">
    <span class="pill">Mi-Avionics-Tools</span>
    <span class="pill">ВУАП-1</span>
    <span class="pill">Пункт 8</span>
    <a class="pill" href="../index.html">Главная</a>
    <a class="pill" href="../page-vuap-1.html">ВУАП-1</a>
  </div>

  <!-- ========================= -->
  <!-- Заголовок                 -->
  <!-- ========================= -->
  <div class="card">
    <h1>8. Проверка передаточного числа по угловой скорости</h1>
    <div class="muted">
      Структура: <b>Содержание операций</b> → <b>Технические требования (ТТ)</b> → <b>Работы при отклонениях от ТТ</b>.
      Формулы — в математическом виде. Калькулятор — внизу.
    </div>
  </div>

  <!-- ========================= -->
  <!-- Рисунки (общие)           -->
  <!-- ========================= -->
  <div class="card" id="figures">
    <h2>Рисунки</h2>

    <div class="grid2">

      <!-- Рис. 6 -->
      <div class="card sub">
        <h3 style="margin-top:0">Рис. 6 <span class="anchor">#fig6</span></h3>
        <div class="imgbox">
          <img id="img6" src="29.JPG" alt="Рис. 6. Крепление датчика угловой скорости на установке УПГ-56"
               onerror="document.getElementById('st6').innerHTML='<span class=&quot;bad&quot;>Не загружается:</span> 29.JPG (проверь: файл рядом с p08.html в vuap1 и регистр совпадает)';">
        </div>
        <div class="figcap">
          <b>Рис. 6.</b> Крепление датчика угловой скорости на установке УПГ-56.
          Используется для проверки в <b>канале направления</b> и <b>канале крена</b>.
        </div>
        <div class="imgstatus" id="st6"></div>
      </div>

      <!-- Рис. 7 -->
      <div class="card sub">
        <h3 style="margin-top:0">Рис. 7 <span class="anchor">#fig7</span></h3>
        <div class="imgbox">
          <img id="img7" src="36.JPG" alt="Рис. 7. Крепление левой гировертикали на установке УПГ-56 (канал тангажа)"
               onerror="document.getElementById('st7').innerHTML='<span class=&quot;bad&quot;>Не загружается:</span> 36.JPG (проверь: файл рядом с p08.html в vuap1 и регистр совпадает)';">
        </div>
        <div class="figcap">
          <b>Рис. 7.</b> Крепление левой гировертикали на поворотной установке УПГ-56
          при проверке в <b>канале тангажа</b>.
        </div>
        <div class="imgstatus" id="st7"></div>
      </div>

    </div>

    <div class="small">
      Если видишь “?” вместо рисунка — это 99% несовпадение имени файла (29.JPG/36.JPG) или регистр букв.
      На GitHub Pages регистр чувствителен.
    </div>
  </div>

  <!-- ========================================================= -->
  <!-- A) КАНАЛ НАПРАВЛЕНИЯ                                      -->
  <!-- ========================================================= -->
  <div class="card" id="yaw">
    <h2>А. Канал направления <span class="anchor">#yaw</span></h2>

    <!-- ------------------------- -->
    <!-- Содержание операций       -->
    <!-- ------------------------- -->
    <div class="card sub" id="yaw_ops">
      <h3 style="margin-top:0">Содержание операций</h3>

      <div class="muted">8. Проверьте передаточное число по угловой скорости. А. Канала направления, для чего:</div>

      <ul>
        <li>
          снимите с вертолёта датчик угловой скорости, установите его на установку <b>УПГ-56</b>
          с помощью кронштейна <b>6С4.132.020</b> и с помощью переходного жгута <b>6С6.640.046-1</b>
          соедините датчик со схемой вертолёта (см. <a href="#figures">рис. 6</a>);
        </li>

        <li>
          выключатель <b>В3</b> технологического жгута <b>246-9948-00</b> установите в положение <b>«ВУ»</b>;
        </li>

        <li>
          нажмите кнопку-лампочку <b>«ВКЛ.»</b> на пульте управления и поворотом шкалы ручки центровки
          установите подвижный индекс нулевого индикатора в среднее положение;
        </li>

        <li>
          задайте с помощью установки вращение датчика, соответствующее правому (левому) развороту вертолёта и,
          плавно меняя скорость вращения установки, отклоните шток малого цилиндра рулевого агрегата в положение,
          при котором подвижный индекс нулевого индикатора совместится с промежуточной отметкой;
        </li>

        <li>
          заметьте направление отклонения подвижного индекса нулевого индикатора от среднего положения;
        </li>

        <li>
          замерьте секундомером время поворота платформы установки на определённый угол и определите угловую скорость вращения,
          как частное от деления величины угла на время поворота установки на этот угол;
        </li>

        <li>
          поставьте ноги на педали и произведите аналогичную проверку (режим управления);
        </li>

        <li>
          установите выключатель <b>В3</b> на панели технологического жгута в положение <b>«ОТКЛ.»</b>;
        </li>

        <li>
          проверьте работоспособность изодрома в цепи датчика, задав вращение платформы установки, соответствующее правому (левому) развороту;
        </li>

        <li>
          нажмите кнопку-лампочку <b>«ОТКЛ.»</b> на пульте управления;
        </li>

        <li>
          снимите датчик с установки и установите на вертолёт.
        </li>
      </ul>
    </div>

    <!-- ------------------------- -->
    <!-- Технические требования    -->
    <!-- ------------------------- -->
    <div class="card sub" id="yaw_tt">
      <h3 style="margin-top:0">Технические требования (ТТ)</h3>

      <div>
        При вращении датчика в сторону правого (левого) разворота подвижный индекс нулевого индикатора должен
        отклоняться влево (вправо).
      </div>

      <div class="hr"></div>

      <h3>Основной режим (по угловой скорости)</h3>
      <table>
        <thead>
          <tr>
            <th>Задаваемая угловая скорость</th>
            <th>Передаточное число</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>\(\omega = (3{,}5^{+2{,}1}_{-1{,}1})\) град/с</td>
            <td>\(\mu_\omega = (20 \pm 8)\) % хода штока / (град/с)</td>
          </tr>
        </tbody>
      </table>

      <div class="hr"></div>

      <h3>Режим по курсу (изодром)</h3>
      <table>
        <thead>
          <tr>
            <th>Задаваемая угловая скорость</th>
            <th>Передаточное число</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>\(\omega = (6{,}5^{+6{,}5}_{-2{,}0})\) град/с</td>
            <td>\(\mu_\omega = (10 \pm 8)\) % хода штока / (град/с)</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- ------------------------- -->
    <!-- Работы при отклонениях    -->
    <!-- ------------------------- -->
    <div class="card sub" id="yaw_dev">
      <h3 style="margin-top:0">Работы, выполняемые при отклонениях от ТТ</h3>

      <ul>
        <li>проверьте подсоединение датчика в схему вертолёта и устраните недостаток;</li>

        <li>
          отключите и вновь включите канал направления кнопками-лампочками <b>«ОТКЛ.»</b> и <b>«ВКЛ.»</b> на пульте управления;
        </li>

        <li>
          поворотом шкалы ручки центровки установите подвижный индекс нулевого индикатора в среднее положение;
        </li>

        <li>
          задайте вращение установке, соответствующее правому развороту, со скоростью <b>3,5 град/с</b>;
        </li>

        <li>
          поворотом подстроечного резистора <b>«СКОР.»</b> на пульте управления добейтесь, чтобы подвижный индекс нулевого индикатора
          совместился с левой промежуточной отметкой;
        </li>

        <li>
          измените направление вращения установки (в сторону левого разворота) и плавным изменением скорости вращения совместите подвижный индекс
          нулевого индикатора с правой промежуточной отметкой;
        </li>

        <li>
          скорость вращения установки должна быть в пределах \(\omega = (3{,}5 \pm 0{,}7)\) град/с.
        </li>
      </ul>
    </div>

  </div>

  <!-- ========================================================= -->
  <!-- Б) КАНАЛ КРЕНА                                            -->
  <!-- ========================================================= -->
  <div class="card" id="roll">
    <h2>Б. Канал крена <span class="anchor">#roll</span></h2>

    <!-- ------------------------- -->
    <!-- Содержание операций       -->
    <!-- ------------------------- -->
    <div class="card sub" id="roll_ops">
      <h3 style="margin-top:0">Содержание операций</h3>

      <div class="muted">Б. Канала крена, для чего:</div>

      <ul>
        <li>
          снимите с вертолёта датчик угловой скорости, установите его на установку <b>УПГ-56</b>
          с помощью кронштейна <b>6С4.132.020</b> и с помощью переходного жгута <b>6С6.640.046-1</b>
          соедините датчик со схемой вертолёта (см. <a href="#figures">рис. 6</a>);
        </li>

        <li>
          нажмите кнопку-лампочку <b>«ВКЛ.»</b> на пульте управления и поворотом шкалы ручки центровки
          установите подвижный индекс нулевого индикатора в среднее положение;
        </li>

        <li>
          задайте датчику с помощью установки вращение, соответствующее правому (левому) крену и,
          плавно меняя скорость вращения установки, отклоните шток малого цилиндра рулевого агрегата
          до совмещения подвижного индекса нулевого индикатора с промежуточной отметкой;
        </li>

        <li>
          заметьте направление отклонения подвижного индекса нулевого индикатора;
        </li>

        <li>
          определите с помощью секундомера скорость вращения установки, соответствующую указанному положению штока;
        </li>

        <li>
          нажмите кнопку триммера на ручке управления вертолётом лётчика и проведите аналогичную проверку (режим управления);
        </li>

        <li>
          нажмите кнопку-лампочку <b>«ОТКЛ.»</b> на пульте управления.
        </li>
      </ul>
    </div>

    <!-- ------------------------- -->
    <!-- Технические требования    -->
    <!-- ------------------------- -->
    <div class="card sub" id="roll_tt">
      <h3 style="margin-top:0">Технические требования (ТТ)</h3>

      <div>
        При вращении датчика в сторону правого (левого) крена подвижный индекс нулевого индикатора должен отклоняться влево (вправо).
      </div>

      <div class="hr"></div>

      <h3>Основной режим</h3>
      <table>
        <thead>
          <tr>
            <th>Задаваемая угловая скорость</th>
            <th>Передаточное число</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>\(\omega = (8^{+6}_{-2})\) град/с</td>
            <td>\(\mu_\omega = (8 \pm 3{,}2)\) % хода штока / (град/с)</td>
          </tr>
        </tbody>
      </table>

      <div class="hr"></div>

      <h3>Режим управления (при нажатии кнопки триммера)</h3>
      <table>
        <thead>
          <tr>
            <th>Задаваемая угловая скорость</th>
            <th>Передаточное число</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>\(\omega = (17^{+16{,}5}_{-6})\) град/с</td>
            <td>\(\mu_\omega = (4 \pm 2)\) % хода штока / (град/с)</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- ------------------------- -->
    <!-- Работы при отклонениях    -->
    <!-- ------------------------- -->
    <div class="card sub" id="roll_dev">
      <h3 style="margin-top:0">Работы, выполняемые при отклонениях от ТТ</h3>

      <ul>
        <li>проверьте подсоединение датчика в схему вертолёта и устраните недостаток;</li>
        <li>подрегулируйте передаточное число по методике, изложенной для канала направления;</li>
        <li>скорость вращения установки должна быть в пределах \(\omega = (8^{+2{,}5}_{-1{,}0})\) град/с.</li>
      </ul>
    </div>

  </div>

  <!-- ========================================================= -->
  <!-- В) КАНАЛ ТАНГАЖА                                          -->
  <!-- ========================================================= -->
  <div class="card" id="pitch">
    <h2>В. Канал тангажа <span class="anchor">#pitch</span></h2>

    <!-- ------------------------- -->
    <!-- Содержание операций       -->
    <!-- ------------------------- -->
    <div class="card sub" id="pitch_ops">
      <h3 style="margin-top:0">Содержание операций</h3>

      <div class="muted">В. Канала тангажа, для чего:</div>

      <ul>
        <li>
          снимите с вертолёта левую гировертикаль, установите её на поворотную установку <b>УПГ-56</b>
          с помощью кронштейна <b>КП-9</b> и с помощью переходного жгута <b>6С4.863.467-1</b>
          соедините со схемой вертолёта (см. <a href="#figures">рис. 7</a>);
        </li>

        <li>
          установите выключатель <b>В2</b> на панели технологического жгута в положение <b>«Wz»</b>;
        </li>

        <li>
          нажмите кнопку-лампочку <b>«ВКЛ.»</b> на пульте управления и поворотом потенциометра <b>«ЦЕНТР»</b>
          установите подвижный индекс нулевого индикатора в среднее положение;
        </li>

        <li>
          проверьте передаточное число по методике, аналогичной для каналов направления и крена;
        </li>

        <li>
          установите выключатель <b>В2</b> на панели технологического жгута в положение <b>«ОТКЛ.»</b>;
        </li>

        <li>
          нажмите кнопку-лампочку <b>«ОТКЛ.»</b> на пульте управления.
        </li>
      </ul>
    </div>

    <!-- ------------------------- -->
    <!-- Технические требования    -->
    <!-- ------------------------- -->
    <div class="card sub" id="pitch_tt">
      <h3 style="margin-top:0">Технические требования (ТТ)</h3>

      <div>
        При вращении гировертикали на пикирование (кабрирование) подвижный индекс нулевого индикатора должен отклоняться вверх (вниз).
      </div>

      <div class="hr"></div>

      <table>
        <thead>
          <tr>
            <th>Задаваемая угловая скорость</th>
            <th>Передаточное число</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>\(\omega = (3{,}5^{+2{,}1}_{-1{,}1})\) град/с</td>
            <td>\(\mu_\omega = (20 \pm 8)\) % хода штока / (град/с)</td>
          </tr>
        </tbody>
      </table>

      <div class="hr"></div>

      <div>
        При вращении гировертикали угол её отклонения от нулевого положения не должен превышать <b>±30°</b>,
        так как при больших углах крутизна сигнала будет уменьшаться.
      </div>
    </div>

    <!-- ------------------------- -->
    <!-- Работы при отклонениях    -->
    <!-- ------------------------- -->
    <div class="card sub" id="pitch_dev">
      <h3 style="margin-top:0">Работы, выполняемые при отклонениях от ТТ</h3>

      <ul>
        <li>
          отключите и вновь включите канал тангажа кнопками-лампочками <b>«ОТКЛ.»</b> и <b>«ВКЛ.»</b> на пульте управления;
        </li>

        <li>
          потенциометром <b>«ЦЕНТР»</b> установите подвижный индекс нулевого индикатора в среднее положение;
        </li>

        <li>
          задайте вращение установке, соответствующее пикированию, со скоростью <b>3,5 град/с</b>;
        </li>

        <li>
          поворотом потенциометра <b>«СКОР.»</b> на пульте управления совместите подвижный индекс с верхней промежуточной отметкой;
        </li>

        <li>
          измените направление вращения установки в сторону кабрирования и плавным изменением скорости вращения
          совместите подвижный индекс нулевого индикатора с нижней промежуточной отметкой;
        </li>

        <li>
          скорость вращения установки должна быть в пределах \(\omega = (3{,}5 \pm 0{,}7)\) град/с;
        </li>

        <li>
          установите подвижный индекс нулевого индикатора в среднее положение с помощью потенциометра <b>«ЦЕНТР»</b> на пульте управления.
        </li>
      </ul>
    </div>

    <!-- ------------------------- -->
    <!-- Привязка рисунка          -->
    <!-- ------------------------- -->
    <div class="card sub" id="pitch_fig">
      <h3 style="margin-top:0">Рисунок</h3>
      <div>
        <b>Рис. 7</b> (файл: <span class="k">36.JPG</span>) — крепление левой гировертикали на установке УПГ-56 (кронштейн КП-9).
      </div>
    </div>

  </div>

  <!-- ========================================================= -->
  <!-- Формулы                                                   -->
  <!-- ========================================================= -->
  <div class="card" id="formulas">
    <h2>Формулы <span class="anchor">#formulas</span></h2>

    <div class="card sub">
      <h3 style="margin-top:0">Определение угловой скорости вращения</h3>
      \[
        \omega = \frac{\Delta\varphi}{t},
      \]
      где \(\Delta\varphi\) — угол поворота платформы, град; \(t\) — время поворота на этот угол, с; \(\omega\) — угловая скорость, град/с.
    </div>

    <div class="card sub">
      <h3 style="margin-top:0">Определение передаточного числа по угловой скорости</h3>
      \[
        \mu_\omega = \frac{66{,}7}{\omega},
      \]
      где \(66{,}7\) (%) — величина хода штока малого цилиндра; \(\omega\) — угловая скорость, град/с;
      \(\mu_\omega\) — передаточное число, % хода штока / (град/с).
    </div>
  </div>

  <!-- ========================================================= -->
  <!-- Калькулятор                                               -->
  <!-- ========================================================= -->
  <div class="card" id="calc">
    <h2>Калькулятор (ω и μ) + автоматическая проверка ТТ <span class="anchor">#calc</span></h2>

    <div class="muted">
      1) Считаем \(\omega\) по углу и времени или вводим \(\omega\) вручную.  
      2) Считаем \(\mu_\omega = 66{,}7/\omega\).  
      3) Выбираем режим → получаем <b>PASS/FAIL</b> по ТТ.
    </div>

    <div class="card sub">
      <h3 style="margin-top:0">Выбор режима ТТ</h3>

      <div class="calc">
        <div class="field">
          <label for="mode">Режим (ТТ)</label>
          <select id="mode">
            <option value="yaw_main">Направление — основной режим (ω=3.5 +2.1/-1.1, μ=20±8)</option>
            <option value="yaw_iso">Направление — по курсу (изодром) (ω=6.5 +6.5/-2.0, μ=10±8)</option>

            <option value="roll_main">Крен — основной режим (ω=8 +6/-2, μ=8±3.2)</option>
            <option value="roll_trim">Крен — режим управления (триммер) (ω=17 +16.5/-6, μ=4±2)</option>

            <option value="pitch_main">Тангаж — пикирование/кабрирование (ω=3.5 +2.1/-1.1, μ=20±8)</option>

            <option value="adj_yaw">Регулировка направления (ω = 3.5 ±0.7) — контроль ω</option>
            <option value="adj_roll">Регулировка крена (ω = 8 +2.5/-1.0) — контроль ω</option>
            <option value="adj_pitch">Регулировка тангажа (ω = 3.5 ±0.7) — контроль ω</option>
          </select>
        </div>

        <div class="field">
          <label>Числитель (ход штока), %</label>
          <input id="numerator" type="number" step="0.1" value="66.7" />
        </div>

        <div class="field">
          <label>Угол поворота платформы, град (\(\Delta\varphi\))</label>
          <input id="angle" type="number" step="0.1" placeholder="например 90" />
        </div>

        <div class="field">
          <label>Время поворота, с (t)</label>
          <input id="time" type="number" step="0.01" placeholder="например 12.5" />
        </div>

        <div class="field">
          <label>Угловая скорость \(\omega\), град/с (можно вручную)</label>
          <input id="omega" type="number" step="0.01" placeholder="например 3.5" />
        </div>

        <div class="field">
          <label>Передаточное \(\mu_\omega\), %/(град/с)</label>
          <input id="mu" type="number" step="0.001" readonly />
        </div>
      </div>

      <div class="btnrow">
        <button type="button" id="btnOmega">Посчитать ω = Δφ / t</button>
        <button type="button" id="btnMu">Посчитать μ = 66.7 / ω</button>
        <button type="button" id="btnAll">Посчитать всё + проверить ТТ</button>
        <button type="button" id="btnClear">Очистить</button>
      </div>

      <div class="out" id="out">Готов.</div>

      <div class="small" id="limits"></div>
    </div>
  </div>

</div>

<!-- ========================================================= -->
<!-- Скрипты                                                    -->
<!-- ========================================================= -->
<script>
  // ---------------------------------------
  // Нормативные диапазоны
  // ---------------------------------------
  // Формат: omega range [min,max], mu range [min,max] (если применимо)
  const TT = {
    // Направление
    yaw_main:  { name: "Направление — основной режим", omega: {min: 3.5-1.1, max: 3.5+2.1}, mu:{min: 20-8, max: 20+8} },
    yaw_iso:   { name: "Направление — изодром (по курсу)",   omega: {min: 6.5-2.0, max: 6.5+6.5}, mu:{min: 10-8, max: 10+8} },

    // Крен
    roll_main: { name: "Крен — основной режим",              omega: {min: 8-2,   max: 8+6},       mu:{min: 8-3.2, max: 8+3.2} },
    roll_trim: { name: "Крен — режим управления (триммер)",  omega: {min: 17-6,  max: 17+16.5},   mu:{min: 4-2,   max: 4+2} },

    // Тангаж
    pitch_main:{ name: "Тангаж — пикирование/кабрирование",   omega: {min: 3.5-1.1, max: 3.5+2.1}, mu:{min: 20-8, max: 20+8} },

    // Регулировочные скорости (только ω)
    adj_yaw:   { name: "Регулировка направления (контроль ω)", omega:{min: 3.5-0.7, max: 3.5+0.7}, mu:null },
    adj_roll:  { name: "Регулировка крена (контроль ω)",       omega:{min: 8-1.0,   max: 8+2.5},   mu:null },
    adj_pitch: { name: "Регулировка тангажа (контроль ω)",     omega:{min: 3.5-0.7, max: 3.5+0.7}, mu:null }
  };

  // ---------------------------------------
  // DOM
  // ---------------------------------------
  const el = {
    mode: document.getElementById("mode"),
    numerator: document.getElementById("numerator"),
    angle: document.getElementById("angle"),
    time: document.getElementById("time"),
    omega: document.getElementById("omega"),
    mu: document.getElementById("mu"),
    out: document.getElementById("out"),
    limits: document.getElementById("limits"),

    btnOmega: document.getElementById("btnOmega"),
    btnMu: document.getElementById("btnMu"),
    btnAll: document.getElementById("btnAll"),
    btnClear: document.getElementById("btnClear"),
  };

  // ---------------------------------------
  // Утилиты
  // ---------------------------------------
  function num(v){
    const x = Number(v);
    return Number.isFinite(x) ? x : NaN;
  }

  function fmt(x, d=3){
    if(!Number.isFinite(x)) return "";
    const p = Math.pow(10, d);
    return (Math.round(x*p)/p).toString();
  }

  function inRange(x, r){
    if(!r) return null;
    if(!Number.isFinite(x)) return false;
    return (x >= r.min && x <= r.max);
  }

  function rangeText(r, unit){
    if(!r) return "—";
    return `[${r.min.toString()} … ${r.max.toString()}] ${unit}`;
  }

  function showLimits(){
    const t = TT[el.mode.value];
    let s = `<b>ТТ:</b> ${t.name}<br>`;
    s += `ω диапазон: <span class="k">${rangeText(t.omega, "град/с")}</span><br>`;
    if(t.mu){
      s += `μ диапазон: <span class="k">${rangeText(t.mu, "%/(град/с)")}</span>`;
    }else{
      s += `μ диапазон: <span class="k">не применяется (контроль только ω)</span>`;
    }
    el.limits.innerHTML = s;
  }

  // ---------------------------------------
  // Расчёты
  // ---------------------------------------
  function calcOmega(){
    const ang = num(el.angle.value);
    const t = num(el.time.value);
    if(!(ang > 0) || !(t > 0)){
      el.out.innerHTML = `<span class="bad">Ошибка:</span> для расчёта ω нужны Δφ > 0 и t > 0.`;
      return NaN;
    }
    const w = ang / t;
    el.omega.value = fmt(w, 4);
    el.out.innerHTML = `ω = Δφ / t = ${fmt(ang,3)} / ${fmt(t,3)} = <b>${fmt(w,4)}</b> град/с`;
    return w;
  }

  function calcMu(){
    const A = num(el.numerator.value);
    const w = num(el.omega.value);
    if(!(A > 0) || !(w > 0)){
      el.out.innerHTML = `<span class="bad">Ошибка:</span> для расчёта μ нужны числитель > 0 и ω > 0.`;
      return NaN;
    }
    const mu = A / w;
    el.mu.value = fmt(mu, 4);
    el.out.innerHTML = `μ = ${fmt(A,3)} / ${fmt(w,4)} = <b>${fmt(mu,4)}</b> %/(град/с)`;
    return mu;
  }

  function calcAllAndCheck(){
    // если ω пустая, а угол/время есть — считаем ω по ним
    const w0 = num(el.omega.value);
    let w = w0;

    const ang = num(el.angle.value);
    const t = num(el.time.value);

    if(!(w0 > 0) && (ang > 0) && (t > 0)){
      w = calcOmega();
    }

    // μ считаем всегда, кроме режимов "контроль ω" — но пусть считается, если ω есть
    let mu = NaN;
    if(w > 0){
      mu = calcMu();
    }

    const tt = TT[el.mode.value];

    const okW = inRange(w, tt.omega);
    const okMu = tt.mu ? inRange(mu, tt.mu) : null;

    // Формируем вывод
    let out = `<b>${tt.name}</b><br>`;

    // ω
    out += `ω = <span class="k">${fmt(w,4) || "—"}</span> град/с; ТТ ω: <span class="k">${rangeText(tt.omega, "град/с")}</span> → `;
    if(okW === true) out += `<span class="ok">PASS</span><br>`;
    else out += `<span class="bad">FAIL</span><br>`;

    // μ (если применимо)
    if(tt.mu){
      out += `μ = <span class="k">${fmt(mu,4) || "—"}</span> %/(град/с); ТТ μ: <span class="k">${rangeText(tt.mu, "%/(град/с)")}</span> → `;
      if(okMu === true) out += `<span class="ok">PASS</span><br>`;
      else out += `<span class="bad">FAIL</span><br>`;

      // общий итог
      if(okW && okMu){
        out += `<div class="hr"></div><span class="ok">ИТОГ: соответствует ТТ (ω и μ).</span>`;
      }else{
        out += `<div class="hr"></div><span class="bad">ИТОГ: НЕ соответствует ТТ.</span>`;
      }
    }else{
      // контроль только ω
      if(okW){
        out += `<div class="hr"></div><span class="ok">ИТОГ: ω в пределах (регулировочный контроль).</span>`;
      }else{
        out += `<div class="hr"></div><span class="bad">ИТОГ: ω вне пределов (регулировочный контроль).</span>`;
      }
    }

    el.out.innerHTML = out;
  }

  function clearAll(){
    el.angle.value = "";
    el.time.value = "";
    el.omega.value = "";
    el.mu.value = "";
    el.out.textContent = "Очищено.";
  }

  // ---------------------------------------
  // События
  // ---------------------------------------
  el.btnOmega.addEventListener("click", calcOmega);
  el.btnMu.addEventListener("click", calcMu);
  el.btnAll.addEventListener("click", calcAllAndCheck);
  el.btnClear.addEventListener("click", clearAll);

  el.mode.addEventListener("change", showLimits);

  // init
  showLimits();

  // Статусы по рисункам (если загрузились)
  (function(){
    const i6 = document.getElementById("img6");
    const i7 = document.getElementById("img7");
    const s6 = document.getElementById("st6");
    const s7 = document.getElementById("st7");

    i6.addEventListener("load", ()=>{ s6.innerHTML = `<span class="ok">OK:</span> 29.JPG`; });
    i7.addEventListener("load", ()=>{ s7.innerHTML = `<span class="ok">OK:</span> 36.JPG`; });
  })();
</script>

</body>
</html>
