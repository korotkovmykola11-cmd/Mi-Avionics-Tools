<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>СПУУ-52-3 — расчёт передаточных чисел</title>

  <style>
    :root{
      --bg1:#0b4fb3;
      --bg2:#f5cf1f;
      --card:#0c2e63cc;
      --card2:#0c2e63aa;
      --text:#eaf2ff;
      --muted:#cfe0ff;
      --line:#ffffff22;
      --ok:#2ecc71;
      --bad:#ff5c5c;
      --warn:#ffcf4a;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      --radius: 18px;
      --shadow: 0 10px 30px #00000033;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--text);
      background: linear-gradient(180deg, var(--bg1) 0%, #0a56c6 35%, var(--bg2) 36%, var(--bg2) 100%);
      min-height:100%;
    }

    .wrap{
      max-width: 1200px;
      margin: 0 auto;
      padding: 28px 18px 34px;
    }

    header{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 16px;
      margin-bottom: 18px;
    }

    h1{
      margin:0;
      font-size: 34px;
      letter-spacing: .2px;
      font-weight: 800;
      text-shadow: 0 2px 0 #0000001a;
    }

    .pills{
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
      justify-content:flex-end;
      align-items:center;
      margin-top: 6px;
    }

    .pill{
      padding: 10px 12px;
      border-radius: 999px;
      background: #0b2b5fcc;
      border: 1px solid var(--line);
      color: var(--muted);
      font-size: 13px;
      box-shadow: 0 6px 18px #00000022;
      white-space: nowrap;
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      align-items: start;
    }

    @media (max-width: 980px){
      header{ flex-direction:column; align-items:flex-start; }
      .pills{ justify-content:flex-start; }
      .grid{ grid-template-columns: 1fr; }
      h1{ font-size: 28px; }
    }

    .card{
      border-radius: var(--radius);
      background: linear-gradient(180deg, var(--card) 0%, var(--card2) 100%);
      border: 1px solid var(--line);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .cardHead{
      padding: 16px 16px 10px;
      display:flex;
      justify-content:space-between;
      gap: 12px;
      align-items:flex-start;
      border-bottom: 1px solid var(--line);
    }

    .cardTitle{
      font-size: 16px;
      font-weight: 800;
      margin:0;
    }

    .rightTop{
      text-align:right;
      display:flex;
      flex-direction:column;
      gap: 6px;
      align-items:flex-end;
    }

    .formulaMini{
      font-family: var(--mono);
      font-size: 12px;
      color: #eaf2ffdd;
      background:#0000001f;
      border:1px solid var(--line);
      border-radius: 10px;
      padding: 6px 10px;
      white-space: nowrap;
    }

    .content{
      padding: 14px 16px 16px;
    }

    .row{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 12px;
    }
    @media (max-width: 600px){
      .row{ grid-template-columns: 1fr; }
    }

    label{
      display:block;
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 6px;
    }

    input{
      width:100%;
      padding: 12px 12px;
      border-radius: 12px;
      border: 1px solid var(--line);
      background:#081f46cc;
      color: var(--text);
      outline:none;
      font-size: 14px;
    }
    input::placeholder{ color:#cfe0ff66; }

    .kv{
      display:flex;
      justify-content:space-between;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 12px;
      background:#0000001c;
      border:1px solid var(--line);
      margin-bottom: 10px;
    }
    .kv .k{
      color: var(--muted);
      font-size: 12px;
    }
    .kv .v{
      font-family: var(--mono);
      font-size: 13px;
      text-align:right;
      white-space:nowrap;
    }

    .big{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 12px;
      padding: 14px 14px;
      border-radius: 14px;
      background:#00000026;
      border: 1px solid var(--line);
      margin-top: 12px;
    }

    .big .val{
      font-size: 40px;
      font-weight: 900;
      letter-spacing: .6px;
    }
    .big .unit{
      opacity:.9;
      font-size: 13px;
      font-family: var(--mono);
      margin-left: 6px;
    }

    .badge{
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid var(--line);
      font-weight: 900;
      font-size: 12px;
      letter-spacing: .3px;
      text-transform: uppercase;
      user-select:none;
    }
    .ok{ background: color-mix(in srgb, var(--ok) 22%, #0000); color:#d7ffe6; }
    .bad{ background: color-mix(in srgb, var(--bad) 22%, #0000); color:#ffe2e2; }
    .na { background:#ffffff14; color:#eaf2ffbb; }

    .statusBar{
      margin-top: 10px;
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid var(--line);
      font-weight: 900;
      letter-spacing:.3px;
      text-align:center;
    }

    .statusBar.ok{ background: color-mix(in srgb, var(--ok) 28%, #0000); }
    .statusBar.bad{ background: color-mix(in srgb, var(--bad) 28%, #0000); }
    .statusBar.na { background:#ffffff14; }

    .btnRow{
      display:flex;
      gap:10px;
      justify-content:flex-end;
      margin-top: 12px;
    }

    button{
      border: 1px solid var(--line);
      background:#0b2b5fcc;
      color: var(--text);
      padding: 10px 12px;
      border-radius: 12px;
      cursor:pointer;
      font-weight: 800;
    }
    button:hover{ filter: brightness(1.08); }
    button:active{ transform: translateY(1px); }

    /* Технология (складной блок) */
    .tech{
      margin-top: 16px;
      border-radius: var(--radius);
      background: linear-gradient(180deg, #0c2e63b8 0%, #0c2e6390 100%);
      border: 1px solid var(--line);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    details.tech details{ margin-left: 14px; }
    details.tech > summary{
      list-style:none;
      cursor:pointer;
      padding: 14px 16px;
      font-weight: 900;
      border-bottom: 1px solid var(--line);
      user-select:none;
    }
    details.tech > summary::-webkit-details-marker{ display:none; }
    .techBody{
      padding: 14px 16px 16px;
      color: #eaf2ffea;
      line-height: 1.35;
      font-size: 14px;
    }
    .techBody h3{ margin: 12px 0 8px; font-size: 15px; }
    .techBody ul{ margin: 6px 0 10px 18px; }
    .techBody li{ margin: 6px 0; }
    .mono{ font-family: var(--mono); }
    .sep{ height:1px; background: var(--line); margin: 10px 0; }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div>
        <h1>СПУУ-52-3 — расчёт передаточных чисел</h1>
      </div>

      <div class="pills" aria-label="Нормы">
        <div class="pill">Норма по высоте: <b>H = 2021…3048 м</b></div>
        <div class="pill">Норма i<sub>P</sub>: <b>0.32 ± 0.06</b> (0.26…0.38)</div>
        <div class="pill">Норма i<sub>T</sub>: <b>0.85 ± 0.17</b> (0.68…1.02)</div>
      </div>
    </header>

    <div class="grid">
      <!-- ДАВЛЕНИЕ / ВЫСОТА -->
      <section class="card" id="cardP">
        <div class="cardHead">
          <div>
            <div class="cardTitle">Давление (по высоте)</div>
          </div>
          <div class="rightTop">
            <div class="formulaMini">i<sub>P</sub> = 33.3 / ΔP</div>
          </div>
        </div>

        <div class="content">
          <div class="row">
            <div>
              <label for="p1000">P(1000), мм рт.ст. (по прибору)</label>
              <input id="p1000" inputmode="decimal" placeholder="например 674.115" />
            </div>
            <div>
              <label for="hLeft">H, м (высота при левой промежуточной отметке)</label>
              <input id="hLeft" inputmode="numeric" placeholder="например 2800" />
            </div>
          </div>

          <div class="kv">
            <div class="k">ΔP = P(1000) − Pтаб(H), мм рт.ст.</div>
            <div class="v" id="dP">—</div>
          </div>

          <div class="big">
            <div>
              <span class="val" id="ip">—</span>
              <span class="unit">i<sub>P</sub></span>
            </div>
            <div class="badge na" id="badgeP">—</div>
          </div>

          <div class="kv">
            <div class="k">Pтаб(H), мм рт.ст.</div>
            <div class="v" id="pTabH">—</div>
          </div>

          <div class="btnRow">
            <button type="button" id="resetP">Сброс (давление)</button>
          </div>

          <div class="statusBar na" id="statusP">—</div>
        </div>
      </section>

      <!-- ТЕМПЕРАТУРА -->
      <section class="card" id="cardT">
        <div class="cardHead">
          <div>
            <div class="cardTitle">Температура</div>
          </div>
          <div class="rightTop">
            <div class="formulaMini">i<sub>T</sub> = 33.3 / |ΔT|</div>
          </div>
        </div>

        <div class="content">
          <div class="row">
            <div>
              <label for="r1">R1, Ом (левая промежуточная)</label>
              <input id="r1" inputmode="decimal" placeholder="например 110" />
            </div>
            <div>
              <label for="r2">R2, Ом (правая промежуточная) — опционально</label>
              <input id="r2" inputmode="decimal" placeholder="например 82" />
            </div>
          </div>

          <div class="kv">
            <div class="k">T1 по таблице, °C</div>
            <div class="v" id="t1">—</div>
          </div>
          <div class="kv">
            <div class="k">T2 по таблице, °C</div>
            <div class="v" id="t2">—</div>
          </div>

          <div class="kv">
            <div class="k">ΔT = T − 7, берём |ΔT|</div>
            <div class="v" id="dT">—</div>
          </div>

          <div class="big">
            <div>
              <span class="val" id="it">—</span>
              <span class="unit">i<sub>T</sub></span>
            </div>
            <div class="badge na" id="badgeT">—</div>
          </div>

          <div class="btnRow">
            <button type="button" id="resetT">Сброс (температура)</button>
          </div>

          <div class="statusBar na" id="statusT">—</div>
        </div>
      </section>
    </div>

    <!-- ТЕХНОЛОГИЯ: открывается/закрывается -->
    <details class="tech" id="techBlock">
      <summary>Технологическая карта №91 — проверка параметров системы подвижных упоров управления СПУУ-52-3</summary>
      <div class="techBody">
        <h3>1. Внешний осмотр</h3>
        <p>Проверьте внешнее состояние и надёжность крепления блоков системы.</p>

        <h3>2. Подготовительные работы</h3>
        <ul>
          <li>Расконтрите и отсоедините штепсельный разъём от приёмника температуры П-1 и подключите вместо него магазин сопротивлений.</li>
          <li>Подсоедините к измерительному комплексу давления ИКД-27ДА установку КПУ-3 с высотомером.</li>
          <li>Снимите лицевую панель с пульта управления (блок БУ-32-3), предварительно отвернув два винта.</li>
          <li>Включите источники питания постоянного и переменного тока.</li>
          <li>Установите выключатель «ПОДВИЖ. УПОР» (левый передний пульт лётчика) в положение «ВКЛ.»</li>
        </ul>

        <h3>3. Совмещение рисок / контроль крайних положений</h3>
        <ul>
          <li>Обеспечьте совмещение риски рычага датчика обратной связи с крайними рисками на корпусе датчика при предельных положениях штока электромеханизма.</li>
          <li>Проверьте крутизну сигнала датчика обратной связи: при нажатой кнопке-лампочке «ОТКЛ» ручкой центровки произведите перемещение штока в одно, затем в другое крайнее положение.</li>
        </ul>

        <div class="sep"></div>

        <h3>4. Проверка передаточного числа по температуре</h3>
        <p class="mono">
          i<sub>T</sub> = 33.3 / |ΔT|, где ΔT = T − 7 °C, T берётся по градуировочной таблице R(Ω)→T(°C).
        </p>
        <p>
          Изменяя сопротивление магазина, добейтесь совмещения подвижного индекса нулевого индикатора с левой промежуточной отметкой
          (затем аналогично — с правой), фиксируя найденные значения сопротивлений.
        </p>
        <p>
          Допуск по i<sub>T</sub>: <b>0.85 ± 0.17</b> (диапазон <b>0.68…1.02</b>).
        </p>

        <div class="sep"></div>

        <h3>5. Проверка передаточного числа по давлению (по высоте)</h3>
        <p>
          Зафиксируйте P(1000) по прибору (по барометрической шкале/условию проверки), создайте разряжение до смещения индекса на левую промежуточную отметку и считайте высоту H по высотомеру.
        </p>
        <p class="mono">
          ΔP = P(1000) − Pтаб(H),<br/>
          i<sub>P</sub> = 33.3 / ΔP
        </p>
        <p>
          Сначала проверьте, что H в допуске <b>2021…3048 м</b>, затем рассчитывайте ΔP по гипсометрической таблице.
        </p>
        <p>
          Допуск по i<sub>P</sub>: <b>0.32 ± 0.06</b> (диапазон <b>0.26…0.38</b>).
        </p>

        <div class="sep"></div>

        <h3>6. Проверка среднего положения штока исполнительного механизма</h3>
        <p>
          Установите на магазине сопротивлений значение, соответствующее +7 °C, и выполните установку разряжения/высоты по методике проверки; подвижный индекс нулевого индикатора должен находиться в среднем положении с точностью толщины подвижного индекса.
        </p>

        <h3>7. Проверка функционирования системы</h3>
        <p>
          Выполните проверку функционирования согласно карте (включая контроль встроенного контроля/положений) совместно с техником вертолёта.
        </p>
      </div>
    </details>
  </div>

  <script>
    // ======= Настройки норм =======
    const NORM_IP = { min: 0.26, max: 0.38, target: 0.32, tol: 0.06 };
    const NORM_IT = { min: 0.68, max: 1.02, target: 0.85, tol: 0.17 };
    const NORM_H  = { min: 2021, max: 3048 };

    // ======= Утилиты =======
    const $ = (id) => document.getElementById(id);

    function toNum(v){
      if (v === null || v === undefined) return NaN;
      const s = String(v).replace(',', '.').trim();
      if (!s) return NaN;
      const x = Number(s);
      return Number.isFinite(x) ? x : NaN;
    }

    function fmt(x, n=3){
      if (!Number.isFinite(x)) return '—';
      const k = Math.pow(10, n);
      return (Math.round(x*k)/k).toFixed(n);
    }

    function inRange(x, a, b){
      return Number.isFinite(x) && x >= a && x <= b;
    }

    function setBadge(el, ok){
      el.classList.remove('ok','bad','na');
      if (ok === null){
        el.classList.add('na');
        el.textContent = '—';
        return;
      }
      if (ok){
        el.classList.add('ok');
        el.textContent = 'НОРМА';
      }else{
        el.classList.add('bad');
        el.textContent = 'НЕ НОРМА';
      }
    }

    function setStatusBar(el, ok, text){
      el.classList.remove('ok','bad','na');
      if (ok === null){
        el.classList.add('na');
      }else if (ok){
        el.classList.add('ok');
      }else{
        el.classList.add('bad');
      }
      el.textContent = text || '—';
    }

    // ======= Загрузка таблиц из spuu52.json без Gson =======
    // Терпимый парсер: вычищаем //... и /*...*/ + убираем висячие запятые перед } ]
    function sanitizeJson(text){
      let s = text;
      s = s.replace(/\/\*[\s\S]*?\*\//g, '');
      s = s.replace(/(^|\s)\/\/.*$/gm, '');
      s = s.replace(/,\s*([}\]])/g, '$1');
      return s;
    }

    async function loadTables(){
      const resp = await fetch('./spuu52.json', { cache: 'no-store' });
      if (!resp.ok) throw new Error('Не удалось загрузить spuu52.json');
      const raw = await resp.text();
      const clean = sanitizeJson(raw);
      const data = JSON.parse(clean);

      // Ожидаемые варианты структур:
      // pressureTable: [{H:1000,P:674.115}, ...] или [[1000,674.115], ...]
      // tempTable:     [{T:-40,R:76.86}, ...]   или [[-40,76.86], ...]
      const pt = data.pressureTable || data.hypso || data.PTAB || data.pTab || data.pressure || data.hypsoTable;
      const rt = data.tempTable || data.RT || data.RTAB || data.rtTab || data.temperature || data.temp;

      if (!pt || !rt) {
        throw new Error('В spuu52.json не найдены pressureTable и/или tempTable (переименуй ключи или добавь).');
      }

      const pressure = pt.map(row => {
        if (Array.isArray(row)) return { H: toNum(row[0]), P: toNum(row[1]) };
        return { H: toNum(row.H ?? row.h ?? row.alt ?? row.m), P: toNum(row.P ?? row.p ?? row.mmHg) };
      }).filter(r => Number.isFinite(r.H) && Number.isFinite(r.P))
        .sort((a,b)=>a.H-b.H);

      const temp = rt.map(row => {
        if (Array.isArray(row)) return { T: toNum(row[0]), R: toNum(row[1]) };
        return { T: toNum(row.T ?? row.t ?? row.tempC), R: toNum(row.R ?? row.r ?? row.ohm) };
      }).filter(r => Number.isFinite(r.T) && Number.isFinite(r.R))
        .sort((a,b)=>a.R-b.R);

      if (pressure.length < 2 || temp.length < 2) {
        throw new Error('Таблицы слишком короткие (нужно минимум 2 точки).');
      }

      return { pressure, temp };
    }

    // Линейная интерполяция Y по X
    function interp(table, xKey, yKey, x){
      if (!Number.isFinite(x)) return NaN;
      const n = table.length;
      if (x <= table[0][xKey]) return table[0][yKey];
      if (x >= table[n-1][xKey]) return table[n-1][yKey];
      for (let i=0;i<n-1;i++){
        const x1 = table[i][xKey], x2 = table[i+1][xKey];
        if (x >= x1 && x <= x2){
          const y1 = table[i][yKey], y2 = table[i+1][yKey];
          const t = (x - x1) / (x2 - x1);
          return y1 + (y2 - y1) * t;
        }
      }
      return NaN;
    }

    // ======= Логика калькулятора =======
    let TABLES = null;

    function calcPressure(){
      const p1000 = toNum($('p1000').value);
      const H = toNum($('hLeft').value);

      const have = Number.isFinite(p1000) && Number.isFinite(H) && TABLES;
      if (!have){
        $('pTabH').textContent = '—';
        $('dP').textContent = '—';
        $('ip').textContent = '—';
        setBadge($('badgeP'), null);
        setStatusBar($('statusP'), null, '—');
        return;
      }

      const pTabH = interp(TABLES.pressure, 'H', 'P', H);
      const dP = p1000 - pTabH;
      const ip = 33.3 / dP;

      $('pTabH').textContent = fmt(pTabH, 3);
      $('dP').textContent = fmt(dP, 3);
      $('ip').textContent = fmt(ip, 3);

      const okIP = inRange(ip, NORM_IP.min, NORM_IP.max);
      setBadge($('badgeP'), okIP);

      const okH = inRange(H, NORM_H.min, NORM_H.max);
      const statusText =
        `H = ${Math.round(H)} м (допуск ${NORM_H.min}…${NORM_H.max}) — ${okH ? 'ОК' : 'ВНЕ ДОПУСКА'}; ` +
        `iP = ${fmt(ip,3)} (норма ${NORM_IP.min}…${NORM_IP.max}) — ${okIP ? 'НОРМА' : 'НЕ НОРМА'}.`;
      // Итоговый цвет по iP (как в инструменте контроля)
      setStatusBar($('statusP'), okIP, statusText);
    }

    function calcTemp(){
      const r1 = toNum($('r1').value);
      const r2 = toNum($('r2').value);

      if (!TABLES){
        $('t1').textContent = '—';
        $('t2').textContent = '—';
        $('dT').textContent = '—';
        $('it').textContent = '—';
        setBadge($('badgeT'), null);
        setStatusBar($('statusT'), null, '—');
        return;
      }

      const have1 = Number.isFinite(r1);
      const have2 = Number.isFinite(r2);

      const t1 = have1 ? interp(TABLES.temp, 'R', 'T', r1) : NaN;
      const t2 = have2 ? interp(TABLES.temp, 'R', 'T', r2) : NaN;

      $('t1').textContent = have1 ? fmt(t1, 3) : '—';
      $('t2').textContent = have2 ? fmt(t2, 3) : '—';

      // По технологии: ΔT = T - 7; берём |ΔT|, поэтому iT всегда положительное.
      const dT1 = have1 ? Math.abs(t1 - 7) : NaN;
      const dT2 = have2 ? Math.abs(t2 - 7) : NaN;

      // Если введены обе точки — показываем "хуже" (вне допуска) как контроль.
      let it = NaN;
      let used = '';
      if (have1 && have2){
        const it1 = 33.3 / dT1;
        const it2 = 33.3 / dT2;
        // "хуже" = дальше от диапазона / либо просто минимальная/максимальная вне допуска
        // Практично: если один вне допуска, берём его; если оба в норме — берём худший по близости к границам.
        const ok1 = inRange(it1, NORM_IT.min, NORM_IT.max);
        const ok2 = inRange(it2, NORM_IT.min, NORM_IT.max);

        if (!ok1 && ok2){ it = it1; used = 'контроль (точка 1)'; }
        else if (!ok2 && ok1){ it = it2; used = 'контроль (точка 2)'; }
        else if (!ok1 && !ok2){
          // оба плохие — берём более "плохой": дальше от диапазона
          const dist1 = (it1 < NORM_IT.min) ? (NORM_IT.min - it1) : (it1 - NORM_IT.max);
          const dist2 = (it2 < NORM_IT.min) ? (NORM_IT.min - it2) : (it2 - NORM_IT.max);
          it = (dist1 >= dist2) ? it1 : it2;
          used = 'контроль (хуже из двух)';
        }else{
          // оба в норме — берём тот, который ближе к границе (хуже)
          const margin1 = Math.min(it1 - NORM_IT.min, NORM_IT.max - it1);
          const margin2 = Math.min(it2 - NORM_IT.min, NORM_IT.max - it2);
          it = (margin1 <= margin2) ? it1 : it2;
          used = 'контроль (хуже из двух)';
        }

        $('dT').textContent = `|ΔT1|=${fmt(dT1,3)}; |ΔT2|=${fmt(dT2,3)}`;
      } else if (have1){
        it = 33.3 / dT1;
        used = 'по одной точке';
        $('dT').textContent = fmt(dT1, 3);
      } else if (have2){
        it = 33.3 / dT2;
        used = 'по одной точке';
        $('dT').textContent = fmt(dT2, 3);
      } else {
        $('dT').textContent = '—';
        $('it').textContent = '—';
        setBadge($('badgeT'), null);
        setStatusBar($('statusT'), null, '—');
        return;
      }

      $('it').textContent = fmt(it, 3);

      const ok = inRange(it, NORM_IT.min, NORM_IT.max);
      setBadge($('badgeT'), ok);

      const statusText =
        `iT = ${fmt(it,3)} (норма ${NORM_IT.min}…${NORM_IT.max}) — ${ok ? 'НОРМА' : 'НЕ НОРМА'}; ` +
        `${used}.`;
      setStatusBar($('statusT'), ok, statusText);
    }

    function bind(){
      $('p1000').addEventListener('input', calcPressure);
      $('hLeft').addEventListener('input', calcPressure);

      $('r1').addEventListener('input', calcTemp);
      $('r2').addEventListener('input', calcTemp);

      $('resetP').addEventListener('click', () => {
        $('p1000').value = '';
        $('hLeft').value = '';
        calcPressure();
      });

      $('resetT').addEventListener('click', () => {
        $('r1').value = '';
        $('r2').value = '';
        calcTemp();
      });
    }

    (async function init(){
      bind();
      try{
        TABLES = await loadTables();
        // Стартовый пересчёт (если поля уже заполнены браузером автозаполнением)
        calcPressure();
        calcTemp();
      }catch(e){
        console.error(e);
        setStatusBar($('statusP'), false, 'Ошибка загрузки таблиц: проверь spuu52.json (pressureTable/tempTable).');
        setStatusBar($('statusT'), false, 'Ошибка загрузки таблиц: проверь spuu52.json (pressureTable/tempTable).');
      }
    })();
  </script>
</body>
</html>
